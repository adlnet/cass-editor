(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9098b66c"],{1844:function(e,t,s){},"217e":function(e,t,s){"use strict";var i=s("1844"),a=s.n(i);a.a},6791:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"framework-list-page",attrs:{id:"frameworks"}},[e.showRightAside?s("RightAside"):e._e(),s("div",{staticClass:"section is-medium"},[s("SearchBar",{attrs:{filterSet:"all",searchType:"ConceptScheme"===e.type?"concept scheme":"framework"}}),e.conceptMode?e._e():s("div",{staticClass:"container is-fluid"},[s("div",{staticClass:"control"},["mine"!==e.queryParams.show&&"mine"!==e.queryParams.conceptShow&&e.numIdentities?s("div",[s("label",{staticClass:"checkbox",attrs:{for:"showMine"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showMine,expression:"showMine"}],attrs:{type:"checkbox",value:"true",id:"showMine"},domProps:{checked:Array.isArray(e.showMine)?e._i(e.showMine,"true")>-1:e.showMine},on:{change:function(t){var s=e.showMine,i=t.target,a=!!i.checked;if(Array.isArray(s)){var r="true",n=e._i(s,r);i.checked?n<0&&(e.showMine=s.concat([r])):n>-1&&(e.showMine=s.slice(0,n).concat(s.slice(n+1)))}else e.showMine=a}}}),e._v("\n                        Show only mine")])]):e._e()])]),s("div",{staticClass:"container is-fluid"},[s("List",{attrs:{type:e.type,repo:e.repo,click:e.frameworkClick,searchOptions:e.searchOptions,paramObj:e.paramObj,disallowEdits:!0},scopedSlots:e._u([{key:"frameworkTags",fn:function(t){return[e.conceptMode||"Framework"!==t.item.type?e._e():s("span",{staticClass:"framework-list-item__details is-light"},[s("span",[e._v("\n                            Items:\n                        ")]),s("span",[e._v("\n                            "+e._s(t.item.competency?t.item.competency.length:0)+"\n                        ")])]),t.item.Published?s("span",{staticClass:"framework-list-item__details",attrs:{title:t.item.Published}},[s("span",{staticClass:"details-label"},[e._v("\n                            Published:\n                        ")]),s("span",{staticClass:"details-value"})]):e._e(),t.item.Approved?s("span",{staticClass:"framework-list-item__details",attrs:{title:t.item.Approved}},[s("span",{staticClass:"details-label"},[e._v("\n                            Approved:\n                        ")]),s("span",{staticClass:"details-value"})]):e._e(),t.item["schema:dateCreated"]?s("span",{staticClass:"framework-list-item__details",attrs:{title:new Date(t.item["schema:dateCreated"])}},[s("span",{staticClass:"details-label"},[e._v("\n                            Created:\n                        ")]),s("span",{staticClass:"details-value"},[e._v("\n                            "+e._s(e.$moment(t.item["schema:dateCreated"]).fromNow())+"\n                        ")])]):e._e(),t.item.getTimestamp()?s("span",{staticClass:"framework-list-item__details",attrs:{title:new Date(t.item.getTimestamp())}},[s("span",{staticClass:"details-label"},[e._v("\n                            Last modified:\n                        ")]),s("span",{staticClass:"details-value"},[e._v("\n                            "+e._s(e.$moment(t.item.getTimestamp()).fromNow())+"\n                        ")])]):t.item["schema:dateModified"]?s("span",{staticClass:"framework-list-item__details",attrs:{title:new Date(t.item["schema:dateModified"])}},[s("span",{staticClass:"details-label"},[e._v("\n                            Last modified:\n                        ")]),s("span",{staticClass:"details-value"},[e._v("\n                            "+e._s(e.$moment(t.item["schema:dateModified"]).fromNow())+"\n                        ")])]):e._e(),t.item["ceasn:publisherName"]&&e.getName(t.item["ceasn:publisherName"])?s("span",{staticClass:"framework-list-item__details"},[s("span",{staticClass:"details-value"},[e._v("\n                            "+e._s(e.getName(t.item["ceasn:publisherName"]))+"\n                        ")])]):t.item["schema:publisher"]&&e.getName(t.item["schema:publisher"])?s("span",{staticClass:"framework-list-item__details"},[e._v("\n                        "+e._s(e.getName(t.item["schema:publisher"]))+"\n                    ")]):t.item["schema:creator"]&&e.getName(t.item["schema:creator"])?s("span",{staticClass:"framework-list-item__details"},[e._v("\n                        "+e._s(e.getName(t.item["schema:creator"]))+"\n                    ")]):e._e(),e.canEditItem(t.item)?s("span",{staticClass:"framework-list-item__details"},[s("span",{staticClass:"details-label"},[e._v("\n                            Editable\n                        ")])]):e._e()]}}])})],1)],1)],1)},a=[],r=s("000d"),n=s("dd98"),o=s("872c"),c=s("6b9e"),m={name:"Frameworks",mixins:[o["a"]],data:function(){return{repo:window.repo,showMine:!1,showNotMine:!1,filterByConfig:!1,numIdentities:EcIdentityManager.ids.length,sortBy:null,defaultConfig:""}},created:function(){this.sortBy=this.conceptMode?"dcterms:title.keyword":"name.keyword",this.$store.commit("editor/t3Profile",!1),this.$store.commit("editor/framework",null),this.spitEvent("viewChanged"),this.setDefaultConfig()},computed:{showRightAside:function(){return this.$store.getters["app/showRightAside"]},frameworkSearchTerm:function(){return this.$store.getters["app/searchTerm"]},queryParams:function(){return this.$store.getters["editor/queryParams"]},type:function(){return this.conceptMode?"ConceptScheme":"Framework"},searchOptions:function(){var e="";if(this.queryParams&&null!=this.queryParams.filter&&(e+=" AND ("+this.queryParams.filter+")"),(this.showMine||this.queryParams&&!this.conceptMode&&"mine"===this.queryParams.show||this.queryParams&&this.conceptMode&&"mine"===this.queryParams.conceptShow)&&EcIdentityManager.ids.length>0){e+=" AND (";for(var t=0;t<EcIdentityManager.ids.length;t++){0!==t&&(e+=" OR ");var s=EcIdentityManager.ids[t];e+='@owner:"'+s.ppk.toPk().toPem()+'"',e+=' OR @owner:"'+this.addNewlinesToId(s.ppk.toPk().toPem())+'"'}e+=")"}if(this.showNotMine&&EcIdentityManager.ids.length>0){e+=" AND NOT (";for(t=0;t<EcIdentityManager.ids.length;t++){0!==t&&(e+=" OR ");s=EcIdentityManager.ids[t];e+='@owner:"'+s.ppk.toPk().toPem()+'"',e+=' OR @owner:"'+this.addNewlinesToId(s.ppk.toPk().toPem())+'"'}e+=")"}return this.filterByConfig&&this.defaultConfig&&(e+=' AND (configuration:"',e+=this.defaultConfig,e+='")'),e},paramObj:function(){var e={size:20},t="name.keyword"===this.sortBy||"dcterms:title.keyword"===this.sortBy?"asc":"desc";return e.sort='[ { "'+this.sortBy+'": {"order" : "'+t+'" , "unmapped_type" : "long",  "missing" : "_last"}} ]',EcIdentityManager.ids.length>0&&this.queryParams&&(!this.conceptMode&&"mine"===this.queryParams.show||this.conceptMode&&"mine"===this.queryParams.conceptShow)&&(e.ownership="me"),e},sortResults:function(){return this.$store.getters["app/sortResults"]},quickFilters:function(){return this.$store.getters["app/quickFilters"]},filteredQuickFilters:function(){var e=this.quickFilters.filter((function(e){return!0===e.checked}));return console.log("filtered value",e),e},conceptMode:function(){return this.$store.getters["editor/conceptMode"]}},components:{List:r["a"],RightAside:n["default"],SearchBar:c["a"]},methods:{canEditItem:function(e){return e.canEditAny(EcIdentityManager.getMyPks())},frameworkClick:function(e){var t=this;this.conceptMode?EcConceptScheme.get(e.id,(function(s){t.$store.commit("editor/framework",s),t.$store.commit("editor/clearFrameworkCommentData"),t.$store.commit("app/setCanViewComments",t.canViewCommentsCurrentFramework()),t.$store.commit("app/setCanAddComments",t.canAddCommentsCurrentFramework()),t.$router.push({name:"conceptScheme",params:{frameworkId:e.id}})}),console.error):EcFramework.get(e.id,(function(s){t.$store.commit("editor/framework",s),t.$store.commit("editor/clearFrameworkCommentData"),t.$store.commit("app/setCanViewComments",t.canViewCommentsCurrentFramework()),t.$store.commit("app/setCanAddComments",t.canAddCommentsCurrentFramework()),t.$router.push({name:"framework",params:{frameworkId:e.id}})}),console.error)},getName:function(e){var t=EcArray.isArray(e)?e:[e];return-1!==Thing.getDisplayStringFrom(t).toLowerCase().indexOf("http")?this.resolveNameFromUrl(Thing.getDisplayStringFrom(t)):Thing.getDisplayStringFrom(t)},addNewlinesToId:function(e){e=e.substring(0,26)+"\n"+e.substring(26);var t=e.length,s=27;while(s+64<t)e=e.substring(0,s+64)+"\n"+e.substring(s+64),s+=65,t++;return e=e.substring(0,t-24)+"\n"+e.substring(t-24),e},setDefaultConfig:function(){var e=this;localStorage.getItem("cassAuthoringToolDefaultBrowserConfigId")?this.defaultConfig=localStorage.getItem("cassAuthoringToolDefaultBrowserConfigId"):this.repo.searchWithParams("@type:Configuration",{size:1e4},(function(t){"true"===t.isDefault&&(e.defaultConfig=t.shortId())}),(function(){}),(function(){}))}},mounted:function(){"lastEdited"===this.sortResults.id?this.sortBy="schema:dateModified":"dateCreated"===this.sortResults.id&&(this.sortBy="schema:dateCreated"),this.showMine=!1,this.showNotMine=!1,this.filterByConfig=!1;for(var e=0;e<this.filteredQuickFilters.length;e++)"ownedByMe"===this.filteredQuickFilters[e].id&&(this.showMine=!0),"notOwnedByMe"===this.filteredQuickFilters[e].id&&(this.showNotMine=!0),"configMatchDefault"===this.filteredQuickFilters[e].id&&(this.filterByConfig=!0)},watch:{sortResults:function(){"lastEdited"===this.sortResults.id?this.sortBy="schema:dateModified":"dateCreated"===this.sortResults.id&&(this.sortBy="schema:dateCreated")},filteredQuickFilters:function(){this.showMine=!1,this.showNotMine=!1,this.filterByConfig=!1;for(var e=0;e<this.filteredQuickFilters.length;e++)"ownedByMe"===this.filteredQuickFilters[e].id&&(this.showMine=!0),"notOwnedByMe"===this.filteredQuickFilters[e].id&&(this.showNotMine=!0),"configMatchDefault"===this.filteredQuickFilters[e].id&&(this.filterByConfig=!0)}}},l=m,d=(s("217e"),s("2877")),h=Object(d["a"])(l,i,a,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-9098b66c.5b57fc6a.js.map