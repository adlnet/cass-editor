(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2cdc4d6","chunk-31ea397f"],{"08bc":function(t,e,o){"use strict";var r=o("891f"),i=o.n(r);i.a},1102:function(t,e,o){"use strict";e["a"]={computed:{t3CompetencyProfile:function(){var t=this;return{"@id":{"@id":"https://schema.cassproject.org/0.4/Competency/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"ID"}],readOnly:"true"},"https://purl.org/ctdlasn/terms/codedNotation":{"@id":"https://purl.org/ctdlasn/terms/codedNotation","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"An alphanumeric notation or ID code as defined by the promulgating body to identify this resource."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Code"}]},"http://schema.org/name":{"@id":"http://schema.org/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Name of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Name"}],isRequired:"true"},"http://schema.org/description":{"@id":"http://schema.org/description","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Description of the competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Description"}]},"http://purl.org/dc/terms/type":{"@id":"http://purl.org/dc/terms/type","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The textual label identifying the category of the competency as designated by the promulgating body."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Type"}]},"https://schema.cassproject.org/0.4/Competency/scope":{"@id":"https://schema.cassproject.org/0.4/Competency/scope","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Scope in which the competency may be applied. e.g. Underwater."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Scope"}]},"https://purl.org/ctdlasn/terms/conceptTerm":{"@id":"https://purl.org/ctdlasn/terms/conceptTerm","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/skos/Concept"}],noTextEditing:"true","http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A term drawn from a controlled vocabulary used by the promulgating agency to refine and differentiate individual resources contextually."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Context"}]},"https://schema.cassproject.org/0.4/Level":{"@id":"https://schema.cassproject.org/0.4/Level","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Level"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"When an individual's performance in a competency can be measured, a level specifies milestones that an individual can reach, creating fine-grained distinction between the proficient and the adept."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rubric Cell"}],valuesIndexed:function(){return t.levels},noTextEditing:"true",add:function(e){t.addLevel(e)},remove:function(e,o){t.removeLevelFromFramework(o)},save:function(){t.saveFramework()},profile:{"http://schema.org/name":{"@id":"http://schema.org/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Level"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":'The title that one who holds this performance level may assume. e.g. "Fast"'}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rubric Column Header"}]},"https://schema.cassproject.org/0.4/competency":{"@id":"https://schema.cassproject.org/0.4/competency","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Level"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Specifies the URL of the competency the level relates to."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Rubric Row Header"}]},alwaysProperties:["http://schema.org/name","https://schema.cassproject.org/0.4/competency"]}},narrows:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A sub-competency relationship which has relevance to this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Narrows"}],valuesIndexed:function(){return t.relations["narrows"]},noTextEditing:"true",add:function(e,o){t.addRelationsToFramework(e,"narrows",o)},save:function(){},remove:function(e,o){t.removeRelationFromFramework(e,"narrows",o)}},broadens:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Covers other relevant competencies not found in this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Broadens"}],valuesIndexed:function(){return t.relations["broadens"]},noTextEditing:"true",add:function(e,o){t.addRelationsToFramework(e,"broadens",o)},save:function(){},remove:function(e,o){t.removeRelationFromFramework(e,"broadens",o)}},isEquivalentTo:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Represents same capability in all aspects to another competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Equivalent To"}],valuesIndexed:function(){return t.relations["isEquivalentTo"]},noTextEditing:"true",add:function(e,o){t.addRelationsToFramework(e,"isEquivalentTo",o)},save:function(){},remove:function(e,o){t.removeRelationFromFramework(e,"isEquivalentTo",o)}},isSimilarTo:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Similar To"}],valuesIndexed:function(){return t.relations["isSimilarTo"]},noTextEditing:"true",add:function(e,o){t.addRelationsToFramework(e,"isSimilarTo",o)},save:function(){},remove:function(e,o){t.removeRelationFromFramework(e,"isSimilarTo",o)}},isPartiallySameAs:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Partially Same As"}],valuesIndexed:function(){return t.relations["isPartiallySameAs"]},noTextEditing:"true",add:function(e,o){t.addRelationsToFramework(e,"isPartiallySameAs",o)},save:function(){},remove:function(e,o){t.removeRelationFromFramework(e,"isPartiallySameAs",o)}},isRelatedTo:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"This competency has some degree of overlap with another."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Related To"}],valuesIndexed:function(){return t.relations["isRelatedTo"]},noTextEditing:"true",add:function(e,o){t.addRelationsToFramework(e,"isRelatedTo",o)},save:function(){},remove:function(e,o){t.removeRelationFromFramework(e,"isRelatedTo",o)}},enables:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Enables"}],valuesIndexed:function(){return t.relations["enables"]},noTextEditing:"true",add:function(e,o){t.addRelationsToFramework(e,"enables",o)},save:function(){},remove:function(e,o){t.removeRelationFromFramework(e,"enables",o)}},isEnabledBy:{"http://schema.org/rangeIncludes":[{"@id":"https://schema.cassproject.org/0.4/Competency"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A recommended option that speeds up acquisition of this competency."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Is Enabled By"}],valuesIndexed:function(){return t.relations["isEnabledBy"]},noTextEditing:"true",add:function(e,o){t.addRelationsToFramework(e,"isEnabledBy",o)},save:function(){},remove:function(e,o){t.removeRelationFromFramework(e,"isEnabledBy",o)}},primaryProperties:["https://purl.org/ctdlasn/terms/codedNotation","http://schema.org/name","http://schema.org/description"],secondaryProperties:["@id","http://purl.org/dc/terms/type","https://schema.cassproject.org/0.4/Competency/scope","https://purl.org/ctdlasn/terms/conceptTerm","https://schema.cassproject.org/0.4/Level","narrows","broadens","isEquivalentTo","isSimilarTo","isPartiallySameAs","isRelatedTo","enables","isEnabledBy"],tertiaryProperties:[]}},t3FrameworkProfile:function(){return{"@id":{"@id":"https://schema.cassproject.org/0.4/Framework/id","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The URL of the framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"ID"}],readOnly:"true"},"http://schema.org/name":{"@id":"http://schema.org/name","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Name of the competency framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Name"}],isRequired:"true"},"http://schema.org/description":{"@id":"http://schema.org/description","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/Text"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Description of the framework."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Description"}]},"https://schema.cassproject.org/0.4/level":{"@id":"https://schema.cassproject.org/0.4/level","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":'The title that one who holds this performance level may assume. e.g. "Fast"'}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Available Levels"}]},"http://schema.org/publisher":{"@id":"http://schema.org/publisher","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"The entity responsible for making this competency framework available."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Publisher"}]},"http://purl.org/dc/elements/1.1/source":{"@id":"http://purl.org/dc/elements/1.1/source","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://schema.org/URL"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"A URI to the original competency framework which this competency framework is based on or derived from."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Extracted From"}]},"http://schema.org/dateCreated":{"@id":"http://schema.org/dateCreated","@type":["http://www.w3.org/2000/01/rdf-schema#Property"],"http://schema.org/domainIncludes":[{"@id":"https://schema.cassproject.org/0.4/Framework"}],"http://schema.org/rangeIncludes":[{"@id":"http://www.w3.org/2001/XMLSchema#date"}],"http://www.w3.org/2000/01/rdf-schema#comment":[{"@language":"en","@value":"Date of creation of this resource."}],"http://www.w3.org/2000/01/rdf-schema#label":[{"@language":"en","@value":"Extraction Date"}]},primaryProperties:["http://schema.org/name","http://schema.org/description"],secondaryProperties:["@id","https://schema.cassproject.org/0.4/level","http://schema.org/publisher","http://purl.org/dc/elements/1.1/source","http://schema.org/dateCreated"],tertiaryProperties:[]}}}}},"1f27":function(t,e,o){"use strict";o("ac1f"),o("5319");e["a"]={methods:{exportAsn:function(t){window.open(t.replace("/data/","/asn/"),"_blank")},exportJsonld:function(t){window.open(t,"_blank")},exportRdfQuads:function(t){var e=this.framework.getName(),o=this;this.get(t,null,{Accept:"text/n4"},(function(t){o.download(e+".n4",t)}),(function(t){console.log(t)}))},exportRdfJson:function(t){var e=this.framework.getName(),o=this;this.get(t,null,{Accept:"application/rdf+json"},(function(t){o.download(e+".rdf.json",t)}),(function(t){console.log(t)}))},exportRdfXml:function(t){var e=this.framework.getName(),o=this;this.get(t,null,{Accept:"application/rdf+xml"},(function(t){o.download(e+".rdf.xml",t)}),(function(t){console.log(t)}))},exportTurtle:function(t){var e=this.framework.getName(),o=this;this.get(t,null,{Accept:"text/turtle"},(function(t){o.download(e+".turtle",t)}),(function(t){console.log(t)}))},exportCtdlasnJsonld:function(t){window.open(t.replace("/data/","/ceasn/"),"_blank")},exportCtdlasnCsv:function(t){var e=this;EcRemote.getExpectingString(t.replace("/data/","/ceasn/"),null,(function(t){CSVExport.exportCTDLASN(JSON.parse(t),e.framework.getName())}),(function(t){console.log(t)}))},exportCsv:function(){CSVExport.exportFramework(this.framework.id,console.log,console.log)},exportCasePackages:function(t){window.open(this.repo.selectedServer+"ims/case/v1p0/CFPackages/"+t,"_blank")},exportCaseItems:function(t){window.open(this.repo.selectedServer+"ims/case/v1p0/CFItems/"+t,"_blank")},download:function(t,e){var o=new Blob([e],{type:"text/plain;charset=utf-8"});saveAs(o,t)}}}},"21a6":function(t,e,o){(function(o){var r,i,s;(function(o,a){i=[],r=a,s="function"===typeof r?r.apply(e,i):r,void 0===s||(t.exports=s)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function r(t,e,o){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){n(r.response,e,o)},r.onerror=function(){console.error("could not download file")},r.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function s(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o&&o.global===o?o:void 0,n=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,o){var n=a.URL||a.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?s(c):i(c.href)?r(t,e,o):s(c,c.target="_blank")):(c.href=n.createObjectURL(t),setTimeout((function(){n.revokeObjectURL(c.href)}),4e4),setTimeout((function(){s(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,o,a){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,a),o);else if(i(t))r(t,o,a);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){s(n)}))}}:function(t,e,o,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return r(t,e,o);var s="application/octet-stream"===t.type,n=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&n)&&"object"==typeof FileReader){var p=new FileReader;p.onloadend=function(){var t=p.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},p.readAsDataURL(t)}else{var l=a.URL||a.webkitURL,m=l.createObjectURL(t);i?i.location=m:location.href=m,i=null,setTimeout((function(){l.revokeObjectURL(m)}),4e4)}});a.saveAs=n.saveAs=n,t.exports=n}))}).call(this,o("c8ba"))},"25d8":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"lode__hierarchy"},[o("div",{staticClass:"hierarchy-buttons columns is-gapless is-paddingless is-mobile is-marginless is-paddingless"},["import"!==t.view?o("div",{staticClass:"column is-narrow",attrs:{id:"check-radio-all-column"}},[o("div",{staticClass:"field"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"is-checkradio",attrs:{id:"selectAllCheckbox",type:"checkbox",name:"selectAllCheckbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{change:function(e){var o=t.selectAll,r=e.target,i=!!r.checked;if(Array.isArray(o)){var s=null,a=t._i(o,s);r.checked?a<0&&(t.selectAll=o.concat([s])):a>-1&&(t.selectAll=o.slice(0,a).concat(o.slice(a+1)))}else t.selectAll=i}}}),o("label",{attrs:{for:"selectAllCheckbox"}})])]):t._e(),o("div",{staticClass:"column is-narrow"},[t.expanded?o("div",{staticClass:"icon is-vcentered",on:{click:function(e){t.expanded=!1}}},[o("i",{staticClass:"fa fa-caret-down has-text-primary is-size-2"})]):t.expanded?o("div",{staticClass:"icon is-vcentered"},[o("i",{staticClass:"fa fa-circle is-size-7 has-text-light"})]):o("div",{staticClass:"icon is-vcentered",on:{click:function(e){t.expanded=!0}}},[o("i",{staticClass:"fa fa-caret-right has-text-primary is-size-2"})]),t.selectButtonText?o("div",{staticClass:"button is-small is-outlined is-primary",on:{click:function(e){return t.$emit("selectButtonClick",t.selectedArray)}}},[t._v(" "+t._s(t.selectButtonText)+" ")]):t._e()]),o("div",{staticClass:"column is-narrow"},[o("div",{staticClass:"buttons"},[t.multipleSelected&&!t.addingNode&&"import"!==t.view&&t.canEdit?o("div",{staticClass:"button is-outlined is-primary",on:{click:function(e){return t.$emit("editMultipleEvent")}}},[t._m(0),o("span",[t._v(" Edit multiple ")])]):t._e(),t.addingNode||!t.canEdit||t.multipleSelected?t._e():o("div",{staticClass:"button is-outlined is-primary",on:{click:function(e){t.addingNode=!0}}},[t._m(1),o("span",[t._v(" Add Concept ")])]),t.addingNode?o("div",{staticClass:"button is-outlined is-dark ",on:{click:function(e){t.addingNode=!1}}},[t._m(2),o("span",[t._v("cancel")])]):t._e(),t.addingNode?o("div",{staticClass:"button is-outlined is-primary ",on:{click:function(e){t.add(t.container.shortId(),null),t.addingNode=!1}}},[t._m(3),o("span",[t._v(" create new ")])]):t._e()])])]),o("hr"),t.hierarchy?[o("draggable",t._b({staticClass:"lode__hierarchy-ul",attrs:{tag:"ul",disabled:!0!==t.canEdit||!t.isDraggable,group:{name:"test"},handle:".handle"},on:{start:t.beginDrag,end:t.endDrag},model:{value:t.hierarchy,callback:function(e){t.hierarchy=e},expression:"hierarchy"}},"draggable",t.dragOptions,!1),t._l(t.hierarchy,(function(e,r){return o("HierarchyNode",{key:e.obj.id,staticClass:"lode__hierarchy-li",attrs:{view:t.view,subview:t.subview,obj:e.obj,dragging:t.dragging,canEdit:t.canEdit,hasChild:e.children,profile:t.profile,exportOptions:t.exportOptions,highlightList:t.highlightList,selectAll:t.selectAll,newFramework:t.newFramework,index:r,frameworkEditable:t.canEdit,selectedArray:t.selectedArray,parentStructure:t.hierarchy,parent:t.container,properties:t.properties,expandAll:1==t.expanded,parentChecked:!1,shiftKey:t.shiftKey,arrowKey:t.arrowKey},on:{createNewNodeEvent:t.onCreateNewNode,mountingNode:t.handleMountingNode,add:t.add,beginDrag:t.beginDrag,move:t.move,deleteObject:t.deleteObject,exportObject:t.exportObject,select:t.select,draggableCheck:t.onDraggableCheck}})})),1)]:t._e()],2)},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-cog"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-plus-circle"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-plus"})])}],a=(o("99af"),o("c975"),o("fb6a"),o("a434"),o("d3b7"),o("872c")),n={name:"ConceptHierarchy",props:{container:Object,containerType:String,repo:Object,profile:Object,exportOptions:Array,highlightList:Array,selectMode:Boolean,selectAll:Boolean,containerTypeGet:String,viewOnly:Boolean,newFramework:Boolean,properties:String,view:{type:String,default:"framework"},subview:{type:String,default:""}},data:function(){return{structure:[],once:!0,dragging:!1,controlOnStart:!1,filter:"showAll",dragIcon:"fa-arrows-alt",dragOptions:{delay:100,disabled:!1,ghostClass:"ghost-drag",chosenClass:"chosen-drag",dragClass:"drag",scrollSensitivity:200,forceFallback:!0},multipleSelected:!1,addingNode:!1,selectedArray:[],selectButtonText:null,expanded:!0,isDraggable:!0,shiftKey:!1,arrowKey:null}},components:{HierarchyNode:function(){return o.e("chunk-6a14e7d0").then(o.bind(null,"8461"))},draggable:function(){return o.e("chunk-4a49d1f9").then(o.t.bind(null,"310e",7))}},mixins:[a["a"]],computed:{queryParams:function(){return this.$store.getters["editor/queryParams"]},hierarchy:function(){var t=this;if(null==this.container)return null;if(!this.once)return this.structure;console.log("Computing hierarchy.");var e=[];return null!=this.container["skos:hasTopConcept"]&&(e=e.concat(this.container["skos:hasTopConcept"])),e.length>0?this.repo.multiget(e,(function(e){t.computeHierarchy()}),console.error,console.log):t.computeHierarchy(),this.structure},canEdit:function(){return!0!==this.viewOnly&&this.container.canEditAny(EcIdentityManager.getMyPks())},recomputeHierarchy:function(){return this.$store.getters["editor/recomputeHierarchy"]}},watch:{container:{handler:function(){this.once=!0},deep:!0},selectedArray:function(){this.selectedArray.length>1?this.multipleSelected=!0:this.multipleSelected=!1,this.$emit("selectedArray",this.selectedArray)},recomputeHierarchy:function(){this.recomputeHierarchy&&(this.once=!0,this.$store.commit("editor/recomputeHierarchy",!1))}},mounted:function(){this.queryParams&&(this.queryParams.singleSelect&&(this.selectButtonText=this.queryParams.singleSelect),this.queryParams.select&&""!==this.queryParams.select&&"select"!==this.queryParams.select&&(this.selectButtonText=this.queryParams.select)),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup)},beforeDestroy:function(){window.removeEventListener("keyup",this.keyup),window.removeEventListener("keydown",this.keydown)},methods:{keydown:function(t){this.canEdit&&(t.shiftKey&&(this.shiftKey=!0),-1!==t.key.indexOf("Arrow")&&t.shiftKey&&(this.arrowKey=t.key),"x"===t.key&&t.ctrlKey&&(this.selectedArray&&1===this.selectedArray.length&&this.$store.commit("editor/cutId",this.selectedArray[0]),this.$store.commit("editor/copyId",null),this.$store.commit("editor/paste",!1)),"c"===t.key&&t.ctrlKey&&(this.selectedArray&&1===this.selectedArray.length&&this.$store.commit("editor/copyId",this.selectedArray[0]),this.$store.commit("editor/cutId",null),this.$store.commit("editor/paste",!1)),"v"===t.key&&t.ctrlKey&&this.$store.commit("editor/paste",!0))},keyup:function(t){t.shiftKey||(this.shiftKey=!1),-1!==t.key.indexOf("Arrow")&&(this.arrowKey=null)},onCreateNewNode:function(t,e){this.add(t,e)},handleMountingNode:function(){this.startTime()},startTime:function(){var t=this;setTimeout((function(){t.$emit("doneLoadingNodes")}),1e3)},computeHierarchy:function(){if(this.structure.splice(0,this.structure.length),null==this.container)return r;if(null!==this.container["skos:hasTopConcept"]&&void 0!==this.container["skos:hasTopConcept"])for(var t=0;t<this.container["skos:hasTopConcept"].length;t++){var e=EcConcept.getBlocking(this.container["skos:hasTopConcept"][t]);e&&(this.structure.push({obj:e,children:[]}),e["skos:narrower"]&&this.addChildren(this.structure,e,t))}this.once=!1},addChildren:function(t,e,o){for(var r=0;r<e["skos:narrower"].length;r++){var i=EcConcept.getBlocking(e["skos:narrower"][r]);t[o].children.push({obj:i,children:[]}),i&&i["skos:narrower"]&&this.addChildren(t[o].children,i,r)}},beginDrag:function(t){this.dragging=!0,void 0!==t&&(this.controlOnStart=t.originalEvent.ctrlKey||t.originalEvent.shiftKey)},endDrag:function(t){console.log(t.oldIndex,t.newIndex);var e=null,o=0;this.shiftKey&&(this.controlOnStart=!0),t.from.id===t.to.id?(t.newIndex<this.hierarchy.length&&(e=this.hierarchy[t.newIndex].obj.shortId()),o=1):void 0===t.to.children[t.newIndex]?e=t.to.id:t.newIndex+1<t.to.children.length&&(e=t.to.children[t.newIndex+1].id),this.move(this.hierarchy[t.oldIndex].obj.shortId(),e,t.from.id,t.to.id,!this.controlOnStart,o)},move:function(t,e,o,r,i,s){this.once=!0;var a=this;if(o===r){var n=EcConcept.getBlocking(r),c="skos:narrower";null===n&&(n=this.container,c="skos:hasTopConcept");var p=n[c]?n[c].slice():null,l=n[c].indexOf(t);if(n[c].splice(l,1),null==e||void 0===e)EcArray.isArray(n[c])||(n[c]=[]),n[c].push(t);else{var m=n[c].indexOf(e);n[c].splice(m,0,t)}a.$store.commit("editor/addEditsToUndo",[{operation:"update",id:n.shortId(),fieldChanged:[c],initialValue:[p]}]),n["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[n.id]&&(n=EcEncryptedValue.toEncryptedValue(n)),this.repo.saveTo(n,(function(){a.computeHierarchy()}),console.error)}else{var d=EcConcept.getBlocking(t),u=EcConcept.getBlocking(o),h="skos:narrower",f="skos:broader",g=EcConcept.getBlocking(r),v="skos:narrower",w="skos:broader";null===u&&(u=this.container,h="skos:hasTopConcept",f="skos:topConceptOf"),null===g&&(g=this.container,v="skos:hasTopConcept",w="skos:topConceptOf");l=u[h].indexOf(t);var C=u[h].slice(),y=d[f]?d[f].slice():null,k=g[v]?g[v].slice():null,b=d[w]?d[w].slice():null;i&&u[h].splice(l,1),o&&d[f]?(i&&EcArray.setRemove(d[f],o),0===d[f].length&&delete d[f]):delete d[f],u["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[u.id]&&(u=EcEncryptedValue.toEncryptedValue(u)),this.repo.saveTo(u,(function(){if(null==e||void 0===e)EcArray.isArray(g[v])||(g[v]=[]),g[v].push(t);else{var o=g[v].indexOf(e);g[v].splice(o,0,t)}EcArray.isArray(d[w])||(d[w]=[]),r?d[w].push(r):d[w].push(a.container.shortId()),a.$store.commit("editor/addEditsToUndo",[{operation:"update",id:u.shortId(),fieldChanged:[h],initialValue:[C]},{operation:"update",id:g.shortId(),fieldChanged:[v],initialValue:[k]},{operation:"update",id:d.shortId(),fieldChanged:[f,w],initialValue:[y,b]}]),g["schema:dateModified"]=(new Date).toISOString(),d["schema:dateModified"]=(new Date).toISOString(),!0===a.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[g.id]&&(g=EcEncryptedValue.toEncryptedValue(g)),!0===a.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[d.id]&&(d=EcEncryptedValue.toEncryptedValue(d)),a.repo.saveTo(g,(function(){a.repo.saveTo(d,console.log,console.error),a.computeHierarchy()}),console.log)}),console.error)}this.dragging=!1},add:function(t,e){var o=this,i=new EcConcept;if(this.queryParams.newObjectEndpoint?i.generateShortId(this.queryParams.newObjectEndpoint):i.generateId(this.repo.selectedServer),i["schema:dateCreated"]=(new Date).toISOString(),i["schema:dateModified"]=(new Date).toISOString(),null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&i.addOwner(EcIdentityManager.ids[0].ppk.toPk()),this.container.owner&&this.container.owner.length>0)for(var s=0;s<this.container.owner.length;s++){var a=this.container.owner[s];i.addOwner(EcPk.fromPem(a))}if(this.container.reader&&this.container.reader.length>0)for(s=0;s<this.container.reader.length;s++){var n=this.container.reader[s];r.addReader(EcPk.fromPem(n))}if(this.setDefaultLanguage(),i["skos:prefLabel"]={"@language":this.$store.state.editor.defaultLanguage,"@value":"New Concept"},i["skos:inScheme"]=this.container.shortId(),t===this.container.shortId()){var c=this.container["skos:hasTopConcept"]?this.container["skos:hasTopConcept"].slice():null;if(EcArray.isArray(this.container["skos:hasTopConcept"])||(this.container["skos:hasTopConcept"]=[]),null==e||void 0===e)this.container["skos:hasTopConcept"].unshift(i.shortId());else{var p=this.container["skos:hasTopConcept"].indexOf(e);this.container["skos:hasTopConcept"].splice(p+1,0,i.shortId())}i["skos:topConceptOf"]=this.container.shortId(),o.$store.commit("editor/addEditsToUndo",[{operation:"addNew",id:i.shortId()},{operation:"update",id:this.container.shortId(),fieldChanged:["skos:hasTopConcept"],initialValue:[c]}]),this.container["schema:dateModified"]=(new Date).toISOString(),i["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&(i=EcEncryptedValue.toEncryptedValue(i),!0!==EcEncryptedValue.encryptOnSaveMap[o.container.id]&&(o.container=EcEncryptedValue.toEncryptedValue(o.container))),this.repo.saveTo(i,(function(){o.repo.saveTo(o.container,(function(){o.once=!0}),console.error)}),console.error)}else{i["skos:broader"]=[t];var l=EcConcept.getBlocking(t);c=l["skos:narrower"]?l["skos:narrower"].slice():null;if(EcArray.isArray(l["skos:narrower"])||(l["skos:narrower"]=[]),null==e||void 0===e)l["skos:narrower"].unshift(i.shortId());else{p=l["skos:narrower"].indexOf(e);l["skos:narrower"].splice(p+1,0,i.shortId())}o.$store.commit("editor/addEditsToUndo",[{operation:"addNew",id:i.shortId()},{operation:"update",id:l.shortId(),fieldChanged:["skos:narrower"],initialValue:[c]}]),this.container["schema:dateModified"]=(new Date).toISOString(),i["schema:dateModified"]=(new Date).toISOString(),l["schema:dateModified"]=(new Date).toISOString(),!0===this.$store.state.editor.private&&(i=EcEncryptedValue.toEncryptedValue(i),!0!==EcEncryptedValue.encryptOnSaveMap[l.id]&&(l=EcEncryptedValue.toEncryptedValue(l)),!0!==EcEncryptedValue.encryptOnSaveMap[o.container.id]&&(o.container=EcEncryptedValue.toEncryptedValue(o.container))),this.repo.saveTo(i,(function(){o.repo.saveTo(l,(function(){o.repo.saveTo(o.container,(function(){o.once=!0}),console.error)}),console.error)}),console.error)}this.$store.commit("editor/newCompetency",i.shortId()),console.log("Added node: ",JSON.parse(i.toJson()))},select:function(t,e){e?EcArray.setAdd(this.selectedArray,t):EcArray.setRemove(this.selectedArray,t)},deleteObject:function(t){this.$emit("deleteObject",t)},exportObject:function(t,e){this.$emit("exportObject",t,e)},onDraggableCheck:function(t){this.isDraggable=t}}},c=n,p=(o("08bc"),o("2877")),l=Object(p["a"])(c,i,s,!1,null,null,null);e["default"]=l.exports},"47e0":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"has-background-white",attrs:{id:"import"}},[o("div",{staticClass:"columns is-multiline import-flex is-marginless is-gapless is-paddingless"},[o("div",{staticClass:"column is-12 import-top-flex"},[o("div",{staticClass:"section is-medium"},[o("div",{staticClass:"container"},[o("div",{staticClass:"columns is-multiline is-mobile"},[o("div",{staticClass:"column is-12"},[o("h1",{staticClass:"title is-size-1 has-text-black"},[t.conceptMode?o("span",[t._v(" Import a concept scheme ")]):o("span",[t._v("Import a framework")])])]),o("div",{staticClass:"column is-12"},["upload"===t.importTransition&&!t.importFile&&t.conceptMode?o("p",{staticClass:"is-size-6"},[t._v(" Upload documents to transform into CaSS Concept Schemes. ")]):"upload"!==t.importTransition||t.importFile?t._e():o("p",{staticClass:"is-size-6"},[t._v(" Upload documents to transform into CaSS Competency Frameworks. ")]),"detail"===t.importTransition?o("p",{staticClass:"is-size-6"},[o("span",{staticClass:"has-text-success has-text-weight-bold"},[t._v(" CaSS has detected a framework! ")]),o("br"),o("br"),t._v(" Please review the competency framework and file details gathered below. To continue with the input of this competency framework, press Accept Details & Review. To cancel and review or change your input file, press cancel. ")]):t._e(),"preview"===t.importTransition?o("p",{},[null!==t.frameworkSize?o("span",{staticClass:" is-size-6 has-text-success has-text-weight-bold"},[t._v(" Import success, "+t._s(t.frameworkSize)+" competencies ready to edit. ")]):o("span",{staticClass:" is-size-6 has-text-success has-text-weight-bold"},[t._v(" Import success, concepts ready to edit. ")]),o("br"),o("br")]):t._e(),"light"===t.importTransition&&"text"!==t.importType?o("p",{staticClass:"is-size-6"},[o("span",{staticClass:"has-text-success has-text-weight-bold"},[t._v(" Your import is complete! ")]),o("br"),o("br")]):t._e()]),t.showImportActions?o("div",{staticClass:"column is-12 import-feedback"}):t._e()])])])]),o("div",{staticClass:"column is-12 import-bottom-flex"},[o("div",{staticClass:"section"},[o("div",{staticClass:"container"},[!t.importFramework||t.importFramework&&"text"===t.importType?o("ImportTabs",{attrs:{caseDocs:t.caseDocs,csvRelationFile:t.csvRelationFile,csvRelationColumns:t.csvRelationColumns,importCsvColumnSource:t.importCsvColumnSource,importCsvColumnRelationType:t.importCsvColumnRelationType,importCsvColumnTarget:t.importCsvColumnTarget,csvColumns:t.csvColumns},on:{analyzeCsvRelation:function(e){return t.analyzeCsvRelation(e)},importCase:function(e){return t.handleImportFromTabs(e)}}}):t._e(),"detail"===t.importTransition?o("ImportDetails",{attrs:{detailsDetected:t.detailsDetected}}):t._e(),t.importFramework&&"preview"===t.importTransition?o("div",{staticClass:"import-preview"},[t.hierarchyIsdoneLoading?t._e():o("div",{staticClass:"section"},[t._m(0)]),o(t.dynamicThing,{tag:"Component",staticClass:"framework-title",class:{"is-hidden":!t.hierarchyIsdoneLoading},attrs:{obj:t.changedObj?t.changedObj:t.importFramework,repo:t.repo,profile:t.conceptMode?null:t.t3FrameworkProfile},on:{editNodeEvent:t.onEditNode,doneEditingNodeEvent:t.onDoneEditingNode}}),t.importFramework&&!t.conceptMode?o("Hierarchy",{class:{"is-hidden":!t.hierarchyIsdoneLoading},attrs:{view:"importPreview",container:t.importFramework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",profile:t.t3CompetencyProfile,viewOnly:!1,isDraggable:!0,edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",repo:t.repo,newFramework:!0},on:{doneLoadingNodes:t.handleDoneLoading,searchThings:function(e){return t.handleSearch(e)},editMultipleEvent:t.onEditMultiple,selectedArray:t.selectedArrayEvent,deleteObject:t.deleteObject}}):t._e(),t.importFramework&&t.conceptMode?o("ConceptHierarchy",{class:{"is-hidden":!t.hierarchyIsdoneLoading},attrs:{view:"import",container:t.importFramework,containerType:"ConceptScheme",viewOnly:!1,isDraggable:!0,repo:t.repo,newFramework:!0},on:{doneLoadingNodes:t.handleDoneLoading,searchThings:function(e){return t.handleSearch(e)},editMultipleEvent:t.onEditMultiple,selectedArray:t.selectedArrayEvent,deleteObject:t.deleteObject}}):t._e()],1):t.importFramework&&"light"===t.importTransition?o("div",{staticClass:"import-light"},[o(t.dynamicThing,{tag:"Component",staticClass:"framework-title",attrs:{editingNode:t.editingNode,obj:t.changedObj?t.changedObj:t.importFramework,parentNotEditable:!0,profile:t.conceptMode?null:t.t3FrameworkProfile},on:{doneEditingNodeEvent:t.onDoneEditingNode}}),t.importFramework&&!t.conceptMode?o("Hierarchy",{attrs:{view:"importLight",container:t.importFramework,containerType:"Framework",containerNodeProperty:"competency",containerEdgeProperty:"relation",nodeType:"EcCompetency",profile:t.t3CompetencyProfile,editable:!1,viewOnly:!0,edgeType:"EcAlignment",edgeRelationProperty:"relationType",edgeRelationLiteral:"narrows",edgeSourceProperty:"source",edgeTargetProperty:"target",repo:t.repo,newFramework:!0},on:{deleteObject:t.deleteObject}}):t._e(),t.importFramework&&t.conceptMode?o("ConceptHierarchy",{class:{"is-hidden":!t.hierarchyIsdoneLoading},attrs:{view:"import",container:t.importFramework,containerType:"ConceptScheme",viewOnly:!0,repo:t.repo,newFramework:!0},on:{selectedArray:t.selectedArrayEvent,deleteObject:t.deleteObject}}):t._e()],1):t._e()],1)])])])])},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"processing-list"},[o("li"),o("li"),o("ul",[o("li"),o("li"),o("li")]),o("li"),o("li"),o("ul",[o("li"),o("li")])])}],s=(o("a4d3"),o("e01a"),o("99af"),o("c975"),o("a434"),o("b0c0"),o("d3b7"),o("ac1f"),o("8a79"),o("5319"),o("841c"),o("498a"),o("ddb0"),o("c643")),a=o("872c"),n=o("6ffa4"),c=o("1102"),p=o("dbb9"),l=o("b908"),m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container",attrs:{id:"import-bottom-section"}},[!t.importFramework||t.importFramework&&"text"===t.importType?o("div",{staticClass:"section is-large"},[o("div",{staticClass:"tile is-vertical has-background-light"},[o("div",{staticClass:"section is-medium"},[o("div",{staticClass:"columns is-mobile"},[o("div",{staticClass:"column"},[o("div",{staticClass:"import-tab",class:{"is-active-tab":"file"===t.importType}},[o("a",{on:{click:function(e){return t.$store.commit("app/importType","file")}}},[o("i",{staticClass:"fa fa-2x fa-file has-text-centered is-block",attrs:{"aria-hidden":"true"}}),o("div",{staticClass:"is-hidden-mobile is-block has-text-centered"},[t._v(" File Import ")])])])]),t.conceptMode?t._e():o("div",{staticClass:"column"},[o("div",{staticClass:"import-tab",class:{"is-active-tab":"server"===t.importType}},[o("a",{on:{click:function(e){return t.$store.commit("app/importType","server")}}},[o("i",{staticClass:"fa fa-2x fa-server is-block has-text-centered",attrs:{"aria-hidden":"true"}}),o("div",{staticClass:"is-hidden-mobile is-block has-text-centered"},[t._v(" Remote Server ")])])])]),t.conceptMode?t._e():o("div",{staticClass:"column"},[o("div",{staticClass:"import-tab",class:{"is-active-tab":"text"===t.importType}},[o("a",{on:{click:function(e){return t.$store.commit("app/importType","text")}}},[o("i",{staticClass:"fa fa-2x fa-paste has-text-centered is-block",attrs:{"aria-hidden":"true"}}),o("div",{staticClass:"is-hidden-mobile is-block has-text-centered"},[t._v(" Paste Text ")])])])]),t.conceptMode?t._e():o("div",{staticClass:"column"},[o("div",{staticClass:"import-tab",class:{"is-active-tab":"url"===t.importType}},[o("a",{on:{click:function(e){return t.$store.commit("app/importType","url")}}},[o("i",{staticClass:"fa fa-link has-text-centered is-block fa-2x",attrs:{"aria-hidden":"true"}}),o("div",{staticClass:"is-hidden-mobile is-block has-text-centered"},[t._v(" URL Source ")])])])])]),"file"===t.importType?o("div",{staticClass:"columns is-centered"},[o("div",{staticClass:"column is-narrow"},[t.conceptMode?t._e():o("div",{staticClass:"button is-outlined is-warning is-small",on:{click:function(e){return t.showImportModal("pdf")}}},[t._m(0),o("span",[t._v("PDF")])])]),o("div",{staticClass:"column is-narrow"},[t.conceptMode?t._e():o("div",{staticClass:"button is-outlined is-warning is-small",on:{click:function(e){return t.showImportModal("docx")}}},[t._m(1),o("span",[t._v("DOCX/WORD")])])]),o("div",{staticClass:"column is-narrow"},[o("div",{staticClass:"button is-outlined is-success is-small",on:{click:function(e){return t.showImportModal("csv")}}},[t._m(2),o("span",[t._v("CSV")])])]),o("div",{staticClass:"column is-narrow"},[t.conceptMode?t._e():o("div",{staticClass:"button is-outlined is-success is-small",on:{click:function(e){return t.showImportModal("xml")}}},[t._m(3),o("span",[t._v("XML")])])]),o("div",{staticClass:"column is-narrow"},[o("div",{staticClass:"button is-outlined is-success is-small",on:{click:function(e){return t.showImportModal("json")}}},[t._m(4),o("span",[t._v("JSON")])])]),o("div",{staticClass:"column is-narrow"},[t.conceptMode?t._e():o("div",{staticClass:"button is-outlined is-success is-small",on:{click:function(e){return t.showImportModal("html")}}},[t._m(5),o("span",[t._v("HTML")])])])]):t._e(),"file"==t.importType?o("div",{staticClass:"has-dashed-border columns is-vcentered has-text-centered",attrs:{id:"drop-area"}},["upload"===t.importTransition?o("drag-and-drop",{staticClass:"column is-12",on:{clearFiles:t.clearFiles}}):"process"!==t.importTransition&&"info"!==t.importTransition||0!==t.importErrors.length?t.importErrors.length>0?o("div",{staticClass:"column has-text-danger"},[o("ul",[t._l(t.importErrors,(function(e,r){return o("li",{key:r,staticClass:"is-size-6"},[o("span",{},[o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-times"})]),t._v(" "+t._s(e)+" ")])])})),o("li")],2),o("div",{staticClass:"section"},[o("div",{staticClass:"buttons is-centered"},[o("div",{staticClass:"button is-primary",on:{click:function(e){return t.resetImport()}}},[o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-redo"})]),o("span",[t._v("start over")])])])])]):t._e():o("div",{staticClass:"column"},[o("div",{staticClass:"section has-text-centered"},["process"===t.importTransition?o("span",{staticClass:"icon is-large"},[o("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})]):t._e()]),o("div",{staticClass:"section"},[o("p",{staticClass:"is-size-6"},[t._v(" "+t._s(t.importStatus)+" ")])])])],1):t._e(),"csv"==t.importFileType&&"file"==t.importType?o("div",{staticClass:"section csv-input"},[t._l(t.csvImportDetails,(function(e){return o("div",{key:e,staticClass:"field"},[o("label",{staticClass:"label is-size-5"},[t._v(" "+t._s(e.label)+" ")]),"string"===e.type?o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],staticClass:"input",domProps:{value:e.value},on:{input:function(o){o.target.composing||t.$set(e,"value",o.target.value)}}})]):"column"===e.type?o("div",{staticClass:"control"},[o("div",{staticClass:"select is-smal"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],on:{change:function(o){var r=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"value",o.target.multiple?r:r[0])}}},[o("option",{attrs:{value:"",selected:""}},[t._v(" N/A ")]),t._l(t.csvColumns,(function(e,r){return o("option",{key:r,domProps:{value:e}},[t._v(" "+t._s(e.name)+" ")])}))],2)])]):"file"===e.type?o("div",{staticClass:"file is-primary"},[o("label",{staticClass:"file-label"},[o("input",{staticClass:"file-input",attrs:{type:"file",name:"relation-file"},on:{change:function(e){return t.$emit("analyzeCsvRelation",e)}}}),t._m(6,!0)])]):t._e()])})),t.csvRelationFile?t._l(t.csvRelationDetails,(function(e){return o("div",{key:e,staticClass:"field"},[o("div",{staticClass:"field"},[o("label",{staticClass:"label is-size-5"},[t._v(" "+t._s(e.label)+" ")]),o("div",{staticClass:"select is-small"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],on:{change:function(o){var r=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"value",o.target.multiple?r:r[0])}}},[o("option",{attrs:{value:"",selected:""}},[t._v(" n/a ")]),t._l(t.csvRelationColumns,(function(e,r){return o("option",{key:r,domProps:{value:e}},[t._v(" "+t._s(e.name)+" ")])}))],2)])])])})):t._e()],2):"medbiq"==t.importFileType&&"file"==t.importType?o("div",t._l(t.medbiqDetails,(function(e){return o("div",{key:e,staticClass:"field"},[o("label",{staticClass:"label is-size-5"},[t._v(" "+t._s(e.label)+" ")]),o("div",{staticClass:"control"},["string"===e.type?o("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],staticClass:"input",domProps:{value:e.value},on:{input:function(o){o.target.composing||t.$set(e,"value",o.target.value)}}}):t._e()])])})),0):t._e(),"file"===t.importType&&"info"===t.importTransition?o("div",{staticClass:"buttons is-right"},[t.importFile&&"file"===t.importType&&"pdf"!==t.importFileType?o("div",{staticClass:"button is-pulled-right is-outlined is-dark",on:{click:t.resetImport}},[t._m(7),o("span",[t._v(" Cancel ")])]):t._e(),t.importFile&&"file"===t.importType&&"pdf"!==t.importFileType?o("div",{staticClass:"button is-pulled-right is-outlined is-primary",on:{click:t.prepareToImportNonPdf}},[t._m(8),o("span",[t._v(" Import ")])]):t._e()]):t._e(),"server"==t.importType?o("div",{staticClass:"section remote-server"},[o("h3",{staticClass:"title is-size-3 has-text-weight-medium"},[t._v(" Import from remote server ")]),"upload"===t.importTransition?[t._l(t.serverDetails,(function(e){return o("div",{key:e,staticClass:"field"},[o("label",{staticClass:"label is-size-5"},[t._v(" "+t._s(e.label)+" ")]),o("div",{staticClass:"field is-grouped"},[o("div",{staticClass:"control is-expanded"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.importServerUrl,expression:"importServerUrl"}],staticClass:"input",attrs:{type:"url"},domProps:{value:t.importServerUrl},on:{input:function(e){e.target.composing||(t.importServerUrl=e.target.value)}}})]),o("div",{staticClass:"control"},[o("div",{staticClass:"button is-pulled-right is-outlined is-primary",on:{click:function(e){return t.$store.commit("app/importTransition","connectToServer")}}},[t._m(9,!0),o("span",[t._v(" connect ")])])])])])})),o("div",{staticClass:"columns is-multiline"},[t._m(10),o("div",{staticClass:"column is-12"},[o("div",{staticClass:"button is-dark is-small",on:{click:function(e){t.importServerUrl="https://opensalt.net"}}},[t._v(" OpenSalt.net ")])])])]:t._e(),"connectToServer"===t.importTransition?o("div",{staticClass:"section has-text-centered"},[t._m(11)]):"process"!==t.importTransition&&"info"!==t.importTransition||0!==t.importErrors.length?t.importErrors.length>0?o("div",{staticClass:"column has-text-danger"},[o("ul",[t._l(t.importErrors,(function(e,r){return o("li",{key:r,staticClass:"is-size-6"},[o("span",{},[t._m(12,!0),t._v(" "+t._s(e)+" ")])])})),o("li")],2),o("div",{staticClass:"section"},[o("div",{staticClass:"buttons is-centered"},[o("div",{staticClass:"button is-primary",on:{click:function(e){return t.resetImport()}}},[t._m(13),o("span",[t._v("start over")])])])])]):t._e():o("div",{staticClass:"column"},[o("div",{staticClass:"section has-text-centered"},["process"===t.importTransition?o("span",{staticClass:"icon is-large"},[o("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})]):t._e()]),o("div",{staticClass:"section"},[o("p",{staticClass:"is-size-6"},[t._v(" "+t._s(t.importStatus)+" ")])])]),t.caseDocs.length?o("div",{staticClass:"section"},[o("h3",{staticClass:"subtitle has-text-weight-bold is-size-4"},[t._v(" Found Frameworks ")]),t._l(t.caseDocs,(function(e){return o("div",{key:e.id,staticClass:"field is-grouped"},[e.loading||e.success||e.error?t._e():o("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"doc.checked"}],staticClass:"is-checkradio is-small",attrs:{type:"checkbox",id:"check"+e.id,name:"check"+e.id},domProps:{checked:e.checked,checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(o){var r=e.checked,i=o.target,s=!!i.checked;if(Array.isArray(r)){var a=null,n=t._i(r,a);i.checked?n<0&&t.$set(e,"checked",r.concat([a])):n>-1&&t.$set(e,"checked",r.slice(0,n).concat(r.slice(n+1)))}else t.$set(e,"checked",s)}}}),o("label",{staticClass:"label has-text-weight-normal is-size-5",attrs:{for:"check"+e.id}},[t._v(t._s(e.name))]),o("span",{staticClass:"icon is-pulled-right"},[e.loading?o("i",{staticClass:"fa fa-spinner fa-pulse"}):e.error?o("i",{staticClass:"fa fa-exclamation-triangle"}):e.success?o("i",{staticClass:"fa fa-check"}):t._e()])])})),o("div",{staticClass:"buttons is-right"},[o("div",{staticClass:"button is-outlined is-dark",on:{click:t.resetImport}},[t._v(" Cancel ")]),"importingCaseFrameworks"!==t.importTransition?o("div",{staticClass:"button is-outlined is-primary",on:{click:function(e){return t.importCaseDocs()}}},[t._v(" Import ")]):t._e()])],2):t._e()],2):t._e(),"text"==t.importType?o("div",{staticClass:"section"},[o("h3",{staticClass:"title is-size-3 has-text-weight-medium"},[t._v(" Import framework as text ")]),t._m(14),o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.importFrameworkName,expression:"importFrameworkName"}],staticClass:"input",attrs:{placeholder:"Framework Name"},domProps:{value:t.importFrameworkName},on:{input:function(e){e.target.composing||(t.importFrameworkName=e.target.value)}}})]),o("div",{staticClass:"field"},[o("label",{staticClass:"label is-size-5"},[t._v(" Paste Text ")]),o("div",{staticClass:"control"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.importText,expression:"importText"}],staticClass:"textarea",domProps:{value:t.importText},on:{input:function(e){e.target.composing||(t.importText=e.target.value)}}})])]),o("div",{staticClass:"field"},[o("button",{staticClass:"button is-pulled-right is-primary is-outlined",on:{click:function(e){return t.$store.commit("app/importStatus","parseText")}}},[t._v(" Import ")])])]):t._e(),"url"==t.importType?o("div",{staticClass:"section"},[o("h3",{staticClass:"title is-size-3 has-text-weight-medium"},[t._v(" Import framework from url source ")]),"importingFromUrl"===t.importTransition?o("div",{staticClass:"section has-text-centered"},[t._m(15)]):t._e(),"upload"===t.importTransition?[o("div",{staticClass:"field"},[o("label",{staticClass:"label is-size-5"},[t._v(" Paste URL of document ")]),o("div",{staticClass:"field is-grouped"},[o("div",{staticClass:"control is-expanded"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.importUrl,expression:"importUrl"}],staticClass:"input",attrs:{type:"url"},domProps:{value:t.importUrl},on:{input:function(e){e.target.composing||(t.importUrl=e.target.value)}}})]),o("div",{staticClass:"control"},[o("div",{staticClass:"button is-outlined is-primary",on:{click:t.importFromUrl}},[t._m(16),o("span",[t._v(" Import ")])])])])]),o("div",{staticClass:"columns is-multiline"},[t._m(17),o("div",{staticClass:"column is-narrow"},[o("div",{staticClass:"button is-small is-dark",on:{click:function(e){t.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-07c257d6-9119-11e8-b852-782bcb5df6ac"}}},[t._v(" O*NET Abilities Competency Framework ")])]),o("div",{staticClass:"column is-narrow"},[o("div",{staticClass:"button is-small is-dark",on:{click:function(e){t.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-07c25f74-9119-11e8-b852-782bcb5df6ac"}}},[t._v(" O*NET Basic Skills Competency Framework ")])]),o("div",{staticClass:"column is-narrow"},[o("div",{staticClass:"button is-small is-dark",on:{click:function(e){t.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-07c264d7-9119-11e8-b852-782bcb5df6ac"}}},[t._v(" O*NET Cross-Functional Skills Competency Framework ")])]),o("div",{staticClass:"column is-narrow"},[o("div",{staticClass:"button is-small is-dark",on:{click:function(e){t.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-07c27a0f-9119-11e8-b852-782bcb5df6ac"}}},[t._v(" O*NET Knowledge Competency Framework ")])]),o("div",{staticClass:"column is-narrow"},[o("div",{staticClass:"button is-small is-dark",on:{click:function(e){t.importUrl="https://www.onetcenter.org/ctdlasn/graph/ce-9fab4187-d8e7-11e9-8250-782bcb5df6ac"}}},[t._v(" O*NET Technology Skills Competency Framework ")])])])]:"process"!==t.importTransition&&"info"!==t.importTransition||0!==t.importErrors.length?t.importErrors.length>0?o("div",{staticClass:"column has-text-danger"},[o("ul",[t._l(t.importErrors,(function(e,r){return o("li",{key:r,staticClass:"is-size-6"},[o("span",{},[t._m(18,!0),t._v(" "+t._s(e)+" ")])])})),o("li")],2),o("div",{staticClass:"section"},[o("div",{staticClass:"buttons is-centered"},[o("div",{staticClass:"button is-primary",on:{click:function(e){return t.resetImport()}}},[t._m(19),o("span",[t._v("start over")])])])])]):t._e():o("div",{staticClass:"column"},[o("div",{staticClass:"section has-text-centered"},["process"===t.importTransition?o("span",{staticClass:"icon is-large"},[o("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})]):t._e()]),o("div",{staticClass:"section"},[o("p",{staticClass:"is-size-6"},[t._v(" "+t._s(t.importStatus)+" ")])])])],2):t._e()])])]):t._e()])},d=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon",attrs:{title:"PDF files are experimentally supported. Click to learn more."}},[o("i",{staticClass:"fa fa-exclamation"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon",attrs:{title:"Word documents and Docx files are experimental. Click to learn more."}},[o("i",{staticClass:"fa fa-exclamation"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-pulled-right",attrs:{title:"CSV files are supported, click to learn more."}},[o("i",{staticClass:"fa fa-check"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-pulled-right",attrs:{title:"XML files are supported, click to learn more."}},[o("i",{staticClass:"fa fa-check"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-pulled-right",attrs:{title:"JSON files are supported, click to learn more."}},[o("i",{staticClass:"fa fa-check"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-pulled-right",attrs:{title:"html files are fully supported at this time"}},[o("i",{staticClass:"fa fa-check"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"file-cta"},[o("span",{staticClass:"file-icon"},[o("i",{staticClass:"fas fa-upload"})]),o("span",{staticClass:"file-label"},[t._v(" Choose a file… ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fas fa-times"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fas fa-upload"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fas fa-network-wired"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"column is-12"},[o("h3",{staticClass:"title is-size-4"},[t._v(" Remote Server Examples: ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-large"},[o("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-redo"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"field"},[o("label",{staticClass:"label is-size-5"},[t._v(" Framework name ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-large"},[o("i",{staticClass:"fa fa-spinner fa-pulse fa-2x"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"file-icon"},[o("i",{staticClass:"fas fa-upload"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"column is-12"},[o("h3",{staticClass:"title is-size-5"},[t._v(" URL Import Examples: ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-redo"})])}],u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{"is-dragged-over":t.isDraggedOver},attrs:{id:"drag-and-drop"},on:{dragenter:function(e){return e.preventDefault(),t.handleDragEnter(e)},dragleave:function(e){return e.preventDefault(),t.handleDragLeave(e)},click:function(e){return t.openFileExplorer()},dragover:function(t){t.preventDefault()},drop:function(e){return e.preventDefault(),t.addFile(e)}}},[o("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",disabled:!t.uploadDisabled},on:{change:t.fileChange}}),o("div",{staticClass:"section"},[o("div",{staticClass:"columns is-centered is-multiline"},[t._m(0),0===t.files.length?o("div",{staticClass:"column is-12"},[o("p",{staticClass:"is-size-6"},[t._v(" Drag and drop, or click to upload. ")])]):t._e(),o("div",{staticClass:"column is-12"},[o("ul",t._l(t.files,(function(e){return o("li",{key:e,staticClass:"is-size-6",staticStyle:{display:"inline","vertical-align":"middle"}},[o("span",{staticClass:"has-text-weight-medium"},[t._v(" "+t._s(e.name)+" ("+t._s(t._f("kb")(e.size))+" kb) "),o("button",{staticClass:"button is-small is-text",attrs:{title:"Remove"},on:{click:function(o){return t.removeFile(e)}}},[t._m(1,!0)])])])})),0)]),o("div",{staticClass:"column is-12"},[o("button",{staticClass:"button is-outlined is-primary is-medium",attrs:{disabled:t.uploadDisabled},on:{click:t.process}},[o("span",[t._v(" Process Files ")]),t._m(2)])])])])])},h=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"column is-12"},[o("p",{staticClass:"is-size-5"},[t._v(" Files to Upload ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-large"},[o("i",{staticClass:"fas fa-arrow-right"})])}],f=(o("4de4"),o("4160"),o("159b"),o("6b75"));function g(t){if(Array.isArray(t))return Object(f["a"])(t)}o("d28b"),o("a630"),o("3ca3");function v(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var w=o("06c5");function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(t){return g(t)||v(t)||Object(w["a"])(t)||C()}var k={name:"DragAndDrop",data:function(){return{files:[],isDraggedOver:!1,counter:0}},computed:{uploadDisabled:function(){return 0===this.files.length}},watch:{},filters:{kb:function(t){return Math.floor(t/1024)}},mounted:function(){this.$store.commit("app/clearImportFiles")},methods:{handleDragEnter:function(t){this.counter++,t.target.id&&"drag-and-drop"===t.target.id&&(this.isDraggedOver=!0)},handleDragLeave:function(t){this.counter--,t.target&&"drag-and-drop"===t.target.id&&0===this.counter&&(this.isDraggedOver=!1)},openFileExplorer:function(){this.uploadDisabled&&this.$refs.file.click()},fileChange:function(t){var e=this;console.log(t);var o=t.target.files;o?y(o).forEach((function(t){e.files.push(t)})):this.files=[]},addFile:function(t){var e=this,o=t.dataTransfer.files||t.target.files;o&&(y(o).forEach((function(t){e.files.push(t)})),this.isDraggedOver=!1)},removeFile:function(t){this.files=this.files.filter((function(e){return e!==t})),this.$store.commit(""),this.$emit("clearFiles")},process:function(){this.$store.commit("app/importFiles",this.files),this.$store.commit("app/importTransition","processFiles")}}},b=k,T=(o("e6c0"),o("2877")),$=Object(T["a"])(b,u,h,!1,null,null,null),E=$.exports,I={name:"ImportTabs",components:{dragAndDrop:E},props:{caseDocs:{default:function(){return[]},type:Array},csvColumns:{default:function(){return[]},type:Array},csvRelationColumns:{default:function(){return[]},type:Array},csvRelationFile:{default:null,type:File},importCsvColumnSource:{default:function(){return{}},type:Object},importCsvColumnRelationType:{default:function(){return{}},type:Object},importCsvColumnTarget:{default:function(){return{}},type:Object}},data:function(){return{csvImportDetails:{name:{label:"Name the framework",value:this.importFrameworkName,type:"string"},description:{label:"Describe the framework (optional)",value:this.importFrameworkDescription,type:"string"},nameColumn:{label:"Select the Name column",value:this.$store.getters["app/importNameColumn"],type:"column"},descriptionColumn:{label:"Select the Description column (optional)",value:this.$store.getters["app/importDescriptionColumn"],type:"column"},scopeColumn:{label:"Select the Scope column (optional)",value:this.$store.getters["app/importScopeColumn"],type:"column"},idColumn:{label:"Select the ID column (optional). If chosen, this should be a URL from another CaSS system or a non-numeric ID",value:this.$store.getters["app/importIdColumn"],type:"column"},relationFile:{label:'Select a relation file (optional).\n                                The relation source/target must be in the\n                                form of ID or Name, and the relation types\n                                should be "requires", "desires", "narrows",\n                                "isEnabledBy", "isRelatedTo", or "isEquivalentTo',value:"",type:"file"}},csvRelationDetails:{sourceColumn:{label:"Select the Source column",type:"column",value:this.$store.getters["app/importSourceColumn"],array:this.importCsvColumnSource},relationColumn:{label:"Select the Relation Type column.",type:"column",value:this.$store.getters["app/importRelationColumn"],array:this.importColumnRelationType},targetColumn:{label:"Select the Target column.",type:"column",value:this.$store.getters["app/importTargetColumn"],array:this.importColumnTarget}},medbiqDetails:{name:{label:"Name the framework",value:this.importFrameworkName,type:"string"},description:{label:"Describe the framework (optional)",value:this.importFrameworkDescription,type:"string"}},serverDetails:[{label:"Paste URL endpoint of server"}]}},watch:{importNameColumn:function(){this.csvImportDetails.nameColumn.value=this.importNameColumn},importDescriptionColumn:function(){this.csvImportDetails.descriptionColumn.value=this.importDescriptionColumn},importScopeColumn:function(){this.csvImportDetails.scopeColumn.value=this.importScopeColumn},importIdColumn:function(){this.csvImportDetails.idColumn.value=this.importIdColumn},importSourceColumn:function(){this.csvRelationDetails.sourceColumn.value=this.importSourceColumn},importRelationColumn:function(){this.csvRelationDetails.relationColumn.value=this.importRelationColumn},importTargetColumn:function(){this.csvRelationDetails.targetColumn.value=this.importTargetColumn},importFrameworkName:function(){"medbiq"===this.importFileType?this.medbiqDetails.name.value=this.importFrameworkName:"csv"===this.importFileType&&(this.csvImportDetails.name.value=this.importFrameworkName)},importFrameworkDescription:function(){"medbiq"===this.importFileType?this.medbiqDetails.description.value=this.importFrameworkDescription:"csv"===this.importFileType&&(this.csvImportDetails.description.value=this.importFrameworkDescription)}},methods:{importFromUrl:function(){this.$store.commit("app/importStatus","importFromUrl"),this.$store.commit("app/importTransition","importingFromUrl")},importCaseDocs:function(){this.$emit("importCase",this.caseDocs),this.$store.commit("app/importTransition","importingCaseFrameworks")},showImportModal:function(t){var e={component:"SupportedImportDetails",documentContent:t};this.$store.commit("app/showModal",e)},prepareToImportNonPdf:function(){"csv"===this.importFileType?(this.$store.commit("app/importFrameworkName",this.csvImportDetails.name.value),this.$store.commit("app/importFrameworkDescription",this.csvImportDetails.description.value),this.$store.commit("app/importNameColumn",this.csvImportDetails.nameColumn.value),this.$store.commit("app/importDescriptionColumn",this.csvImportDetails.descriptionColumn.value),this.$store.commit("app/importScopeColumn",this.csvImportDetails.scopeColumn.value),this.$store.commit("app/importIdColumn",this.csvImportDetails.idColumn.value),this.$store.commit("app/importSourceColumn",this.csvRelationDetails.sourceColumn.value),this.$store.commit("app/importTargetColumn",this.csvRelationDetails.targetColumn.value),this.$store.commit("app/importRelationColumn",this.csvRelationDetails.relationColumn.value),this.$store.commit("app/importTransition","uploadCsv")):"medbiq"===this.importFileType?(this.$store.commit("app/importFrameworkName",this.csvImportDetails.name.value),this.$store.commit("app/importFrameworkDescription",this.csvImportDetails.description.value),this.$store.commit("app/importTransition","uploadMedbiq")):"pdf"!==this.importFileType&&this.$store.commit("app/importTransition","uploadOtherNonPdf")},importFromFile:function(){this.$store.commit("app/importType","file"),this.$store.commit("app/importFramework",null),this.$store.commit("app/importTransition","upload")},clearFiles:function(){this.$store.commit("app/clearImportFiles")},resetImport:function(){this.$store.commit("app/resetImport")}},computed:{conceptMode:function(){return this.$store.getters["editor/conceptMode"]},importText:{get:function(){return this.$store.getters["app/importText"]},set:function(t){this.$store.commit("app/importText",t)}},importServerUrl:{get:function(){return this.$store.getters["app/importServerUrl"]},set:function(t){this.$store.commit("app/importServerUrl",t)}},importUrl:{get:function(){return this.$store.getters["app/importUrl"]},set:function(t){this.$store.commit("app/importUrl",t)}},importErrors:function(){return this.$store.getters["app/importErrors"]},importFile:function(){return this.$store.getters["app/importFiles"]},importTransition:function(){return this.$store.getters["app/importTransition"]},importType:function(){return this.$store.getters["app/importType"]},importFileType:function(){return this.$store.getters["app/importFileType"]},importFramework:function(){return this.$store.getters["app/importFramework"]},importFrameworkName:{get:function(){return this.$store.getters["app/importFrameworkName"]},set:function(t){this.$store.commit("app/importFrameworkName",t)}},importFrameworkDescription:function(){return this.$store.getters["app/importFrameworkDescription"]},importStatus:function(){return this.$store.getters["app/importStatus"]},importNameColumn:function(){return this.$store.getters["app/importNameColumn"]},importDescriptionColumn:function(){return this.$store.getters["app/importDescriptionColumn"]},importScopeColumn:function(){return this.$store.getters["app/importScopeColumn"]},importIdColumn:function(){return this.$store.getters["app/importIdColumn"]},importSourceColumn:function(){return this.$store.getters["app/importSourceColumn"]},importRelationColumn:function(){return this.$store.getters["app/importRelationColumn"]},importTargetColumn:function(){return this.$store.getters["app/importTargetColumn"]}}},S=I,F=(o("81d7"),Object(T["a"])(S,m,d,!1,null,null,null)),_=F.exports,x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.importFramework&&"detail"===t.importTransition?o("div",{staticClass:"section import-details"},[o("div",{staticClass:"import-details__section"},[o("h3",{staticClass:"subtitle is-size-3 has-text-weight-normal"},[t._v(" The following details were detected. ")]),o("p",{staticClass:"is-size-6 has-text-weight-light"},[t._v(" If these details don't look correct, please verify your file is correct and import again. ")]),o("ul",{staticClass:"is-size-6 detected-import-details"},[t.detailsDetected.columns>0?o("li",[t._m(0),t._v(" CaSS detected "),o("b",[t._v(t._s(t.detailsDetected.columns))]),t._v(" columns ")]):t._e(),t.detailsDetected.rows>0?o("li",[t._m(1),t._v(" CaSS detected "),o("b",[t._v(t._s(t.detailsDetected.rows))]),t._v(" rows ")]):t._e(),o("li",[t._m(2),t._v(" CaSS detected "),o("b",[t._v(t._s(t.detailsDetected.competencies))]),t._v(" competencies in the imported framework ")]),o("li",[t._m(3),t._v(" CaSS detected a "),o("b",[t._v(t._s(t.detailsDetected.fileType))]),t._v(" file type ")]),t.detailsDetected.headers?o("li",[t._m(4),o("b",[t._v("Header rows detected")])]):t._e()]),o("div",{staticClass:"buttons is-right"},[o("div",{staticClass:" button is-light is-small is-pulled-right is-dark is-outlined",on:{click:function(e){return t.$store.dispatch("app/clearImport")}}},[o("span",[t._v(" Cancel ")]),t._m(5)]),"detail"===t.importTransition?o("div",{staticClass:"button is-small is-primary is-outlined",on:{click:function(e){return t.$store.commit("app/importTransition","preview")}}},[o("span",[t._v(" Accept Details & Review ")]),t._m(6)]):t._e()])])]):t._e()},D=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon has-text-success"},[o("i",{staticClass:"fa fa-check-circle"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon has-text-success"},[o("i",{staticClass:"fa fa-check-circle"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon has-text-success"},[o("i",{staticClass:"fa fa-check-circle"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon has-text-success"},[o("i",{staticClass:"fa fa-check-circle"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon has-text-success"},[o("i",{staticClass:"fa fa-check-circle"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-times-circle"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-small"},[o("i",{staticClass:"fas fa-arrow-right"})])}],O={name:"ImportDetails",props:{detailsDetected:Object},components:{},computed:{importErrors:function(){return this.$store.getters["app/importErrors"]},importFile:function(){return this.$store.getters["app/importFiles"]},importTransition:function(){return this.$store.getters["app/importTransition"]},importType:function(){return this.$store.getters["app/importType"]},importFileType:function(){return this.$store.getters["app/importFileType"]},importFramework:function(){return this.$store.getters["app/importFramework"]},importStatus:function(){return this.$store.getters["app/importStatus"]}}},N=O,j=Object(T["a"])(N,x,D,!1,null,null,null),P=j.exports,A=o("25d8"),R={name:"Import",mixins:[a["a"],n["a"],c["a"]],components:{Hierarchy:s["default"],Thing:p["default"],ThingEditing:l["default"],ImportTabs:_,ImportDetails:P,ConceptHierarchy:A["default"]},data:function(){return{editingNode:!1,hierarchyIsdoneLoading:!1,frameworkBusy:!0,detailsDetected:{rows:0,columns:0,headers:!1,competencies:0,format:"Department of Labor",fileType:""},repo:window.repo,competencyCount:0,csvColumns:[],csvRelationFile:null,csvRelationColumns:[],relationCount:0,caseDocs:[],caseCancel:!1,selectedArray:[],frameworkExportOptions:[{name:"Achievement Standards Network (RDF+JSON)",value:"asn"},{name:"CASS (JSON-LD)",value:"jsonld"},{name:"CASS (RDF Quads)",value:"rdfQuads"},{name:"CASS (RDF+JSON)",value:"rdfJson"},{name:"CASS (RDF+XML)",value:"rdfXml"},{name:"CASS (Turtle)",value:"turtle"},{name:"Credential Engine ASN (JSON-LD)",value:"ctdlasnJsonld"},{name:"Credential Engine ASN (CSV)",value:"ctdlasnCsv"},{name:"Table (CSV)",value:"csv"},{name:"IMS Global CASE (JSON)",value:"case"}],changedObj:null}},computed:{queryParams:function(){return this.$store.getters["editor/queryParams"]},conceptMode:function(){return this.$store.getters["editor/conceptMode"]},showImportActions:function(){return"detail"===this.importTransition||"preview"===this.importTransition||"light"===this.importTransition},importServerUrl:function(){return this.$store.getters["app/importServerUrl"]},importUrl:function(){return this.$store.getters["app/importUrl"]},importErrors:function(){return this.$store.getters["app/importErrors"]},importFile:function(){return this.$store.getters["app/importFiles"]},importTransition:function(){return this.$store.getters["app/importTransition"]},importType:function(){return this.$store.getters["app/importType"]},importFileType:function(){return this.$store.getters["app/importFileType"]},importFramework:function(){return this.$store.getters["app/importFramework"]},importFrameworkName:{get:function(){return this.$store.getters["app/importFrameworkName"]},set:function(t){return this.$store.commit("app/importFrameworkName",t)}},importFrameworkDescription:function(){return this.$store.getters["app/importFrameworkDescription"]},dynamicThing:function(){return this.editingNode?"ThingEditing":"Thing"},frameworkSize:function(){return this.importFramework&&this.importFramework.competency?this.conceptMode?null:this.importFramework.competency.length:0},isT3Import:function(){return"pdf"===this.importFileType},importStatus:function(){return this.$store.getters["app/importStatus"]},importCsvColumnName:{get:function(){return this.$store.getters["app/importNameColumn"]},set:function(t){this.$store.commit("app/importNameColumn",t)}},importCsvColumnDescription:{get:function(){return this.$store.getters["app/importDescriptionColumn"]},set:function(t){this.$store.commit("app/importDescriptionColumn",t)}},importCsvColumnScope:{get:function(){return this.$store.getters["app/importScopeColumn"]},set:function(t){this.$store.commit("app/importScopeColumn",t)}},importCsvColumnId:{get:function(){return this.$store.getters["app/importIdColumn"]},set:function(t){this.$store.commit("app/importIdColumn",t)}},importCsvColumnSource:{get:function(){return this.$store.getters["app/importSourceColumn"]},set:function(t){this.$store.commit("app/importSourceColumn",t)}},importCsvColumnRelationType:{get:function(){return this.$store.getters["app/importRelationColumn"]},set:function(t){this.$store.commit("app/importRelationColumn",t)}},importCsvColumnTarget:{get:function(){return this.$store.getters["app/importTargetColumn"]},set:function(t){this.$store.commit("app/importTargetColumn",t)}},firstImport:{get:function(){return this.$store.getters["app/firstImport"]},set:function(t){this.$store.commit("app/firstImport",t)}},text:function(){return this.$store.getters["app/importText"]}},watch:{importStatus:function(t){"connectToServer"===t?this.connectToServer():"importFromUrl"===t?this.importFromUrl():"parseText"===t&&this.parseText()},importType:function(t){this.caseDocs=[],this.clearImport()},importTransition:function(t){if("processFiles"===t)return this.uploadFiles(this.importFile);"uploadCsv"===t||"uploadMedbiq"===t||"uploadOtherNonPdf"===t?this.importFromFile():"connectToServer"===t&&this.connectToServer()},text:function(t,e){var o=this;TabStructuredImport.importCompetencies(t,this.queryParams.newObjectEndpoint?this.queryParams.newObjectEndpoint:this.repo.selectedServer,EcIdentityManager.ids[0],(function(t,e){o.$store.commit("app/importTransition","light");var r=t.length+" competencies and "+e.length+" relations.";o.$store.commit("app/importStatus",r);var i=new EcFramework;o.$store.commit("app/importFramework",null);for(var s=0;s<t.length;s++)EcRepository.cache[t[s].shortId()]=t[s],i.addCompetency(t[s].shortId());for(s=0;s<e.length;s++)EcRepository.cache[e[s].shortId()]=e[s],i.addRelation(e[s].shortId());o.$nextTick((function(){o.$store.commit("app/importFramework",i),o.$store.commit("editor/framework",i)}))}),(function(t){o.$store.commit("app/importStatus",t)}),console.error,this.repo,!1)},importFramework:function(){this.importFramework&&!this.conceptMode&&0===this.frameworkSize&&(this.hierarchyIsdoneLoading=!0)}},created:function(){this.$store.commit("editor/framework",null),this.spitEvent("viewChanged")},methods:{selectedArrayEvent:function(t){this.selectedArray=t},onEditMultiple:function(){this.showEditMultiple=!0;var t={profile:this.t3CompetencyProfile,selectedCompetencies:this.selectedArray,component:"MultiEdit"};this.$store.commit("app/showModal",t)},handleSearch:function(t){this.$store.commit("app/showModal",t)},handleImportFromTabs:function(t){this.caseDocs=t,this.importCase()},onEditNode:function(){this.editingNode=!0},onDoneEditingNode:function(){this.changedObj=EcRepository.getBlocking(this.importFramework.shortId()),this.editingNode=!1},handleDoneLoading:function(){console.log("done loading"),this.hierarchyIsdoneLoading=!0},showModal:function(t,e){var o=this,r={};"export"===t?r={type:t,selectedExportOption:"",title:"Export framework",exportOptions:this.frameworkExportOptions,text:"Select a file format to export your framework. Files download locally.",onConfirm:function(t){return o.exportObject(t)}}:"duplicate"===t?r={type:t,title:"Duplicate framework",text:"A framework has already been imported under the name "+e.name+". Do you want to overwrite it?",options:["Overwrite framework","Save import as a new framework"],currentName:e.name,onConfirm:function(t){return o.savePdfImport(e,t)},onCancel:function(){return o.clearImport()}}:"duplicateOverwriteOnly"===t&&(r={type:t,title:"Duplicate framework",text:(e[0].name?"The framework "+e[0].name:"This framework")+" has already been imported. If you're a framework admin you can overwrite it. Do you want to overwrite it?",onConfirm:function(){return"url"===o.importType?o.importJsonLd(e[0]):o.continueCaseImport(e)},onCancel:function(){return"url"===o.importType?o.clearImport():o.importCase(e)}}),this.$modal.show(r)},unsupportedFile:function(t){this.$store.commit("app/importFileType",t);var e="File type "+fileType+" is unsupported in this workflow";this.$store.commit("app/addImportError",e),me.$store.commit("app/importTransition","process")},importSuccess:function(){if(this.conceptMode)this.$store.commit("app/importStatus","Concept Scheme Imported."),this.$store.commit("app/importTransition","preview");else{var t="Competency detected";this.$store.commit("app/importStatus",t),this.isT3Import?this.$store.commit("app/importTransition","detail"):this.$store.commit("app/importTransition","preview")}},importDetailsAccept:function(){this.$store.commit("app/importStatus","Edit and approve"),this.$store.commit("app/importTransition","preview")},importPreviewAccept:function(){this.$store.commit("app/importStatus","Import Complete!"),this.$store.commit("app/importTransition","light")},clearImport:function(){this.$store.commit("app/importFramework",null),this.$store.commit("app/clearImportFiles"),this.$store.commit("app/clearImportErrors"),this.$store.commit("app/importTransition","upload"),this.$store.commit("app/importStatus",""),this.$store.commit("app/importFeedback",""),this.$store.commit("app/importFileType","")},uploadFiles:function(){this.fileChange(this.importFile)},fileChange:function(t){console.log("file change",t),this.$store.commit("app/clearImportErrors"),this.$store.commit("app/importTransition","process"),this.$store.commit("app/firstImport",!0),this.analyzeImportFile()},analyzeImportFile:function(){var t,e=this,o=this.importFile[0];if(console.log("file is",o),o.name.endsWith(".csv"))this.conceptMode?CTDLASNCSVConceptImport.analyzeFile(o,(function(o,r){e.$store.commit("app/importFileType","conceptcsv"),t="Import "+o+" concept schemes and "+r+" concepts.",e.$store.commit("app/importStatus",t),e.$store.commit("app/importTransition","info")}),(function(t){e.$store.commit("app/addImportError",t),e.$store.commit("app/importTransition","process")})):CTDLASNCSVImport.analyzeFile(o,(function(o,r){e.$store.commit("app/importFileType","ctdlasncsv"),t="Import "+o+" frameworks and "+r+" competencies.",e.$store.commit("app/importStatus",t),e.$store.commit("app/importTransition","info")}),(function(t){CSVImport.analyzeFile(o,(function(t){e.$store.commit("app/importFileType","csv"),e.importFrameworkName=o.name.replace(".csv","");for(var r=0;r<t[0].length;r++){var i={};i.name=t[0][r],i.index=r,e.csvColumns.push(i),-1!==i.name.toLowerCase().indexOf("name")&&(e.importCsvColumnName=i),-1!==i.name.toLowerCase().indexOf("description")&&(e.importCsvColumnDescription=i),-1!==i.name.toLowerCase().indexOf("scope")&&(e.importCsvColumnScope=i),-1!==i.name.toLowerCase().indexOf("id")&&(e.importCsvColumnId=i)}e.$store.commit("app/importStatus",(e.competencyCount=t.length-1)+" Competencies Detected."),e.$store.commit("app/importTransition","info")}),(function(t){e.$store.commit("app/addImportError",t),e.$store.commit("app/importTransition","process")}))}));else if(o.name.endsWith(".json")||o.name.endsWith(".jsonld"))this.analyzeJsonLdFramework(o,(function(t,o){var r,i,s=!1;if("ctdlasnConcept"===o)if(e.conceptMode)e.$store.commit("app/importStatus","1 Concept Scheme Detected."),e.$store.commit("app/importFileType","ctdlasnjsonld"),e.$store.commit("app/importTransition","info");else{var a="Concept Schemes must be imported in the concept scheme editor.";s=!0,e.$store.commit("app/addImportError",a),e.$store.commit("app/importTransition","process")}else e.conceptMode?(r="Frameworks must be imported in the competency editor.",s=!0,e.$store.commit("app/addImportError",r),e.$store.commit("app/importTransition","process")):(e.$store.commit("app/importFileType","ctdlasnjsonld"),i="1 Framework and "+(EcObject.keys(t).length-1)+" Competencies Detected.",e.$store.commit("app/importStatus",i),e.$store.commit("app/importTransition","info"));if(e.competencyCount=EcObject.keys(t).length,s||"ctdlasn"!==o&&"ctdlasnConcept"!==o){if(!s){var n="Context is not CTDL-ASN";e.$store.commit("app/addImportError",n),e.$store.commit("app/importTransition","process")}}else;}),(function(t){o.name.endsWith(".json")?ASNImport.analyzeFile(o,(function(t){e.$store.commit("app/importFileType","asn"),e.$store.commit("app/importStatus","1 Framework and "+EcObject.keys(t).length+" Competencies Detected."),e.$store.commit("app/importTransition","info"),e.competencyCount=EcObject.keys(t).length}),(function(t){e.$store.commit("app/addImportError",t),e.$store.commit("app/importTransition","process")})):(e.$store.commit("app/addImportError",t),e.$store.commit("app/importTransition","process"))}));else if(o.name.endsWith(".xml"))this.conceptMode?(e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError","This is not a valid file format for concept schemes")):MedbiqImport.analyzeFile(o,(function(t){e.$store.commit("app/importFileType","medbiq"),e.importFrameworkName=o.name.replace(".xml",""),e.$store.commit("app/importStatus","1 Framework and "+EcObject.keys(t).length+" Competencies Detected."),e.competencyCount=EcObject.keys(t).length,e.$store.commit("app/importTransition","info")}),(function(t){e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError",t)}));else if(o.name.endsWith(".pdf"))this.conceptMode?(e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError","This is not a valid file format for concept schemes")):(e.$store.commit("app/importFileType","pdf"),e.firstImport=!1,e.detailsDetected.fileType="pdf",e.$store.commit("app/importStatus","File selected."),e.$store.commit("app/importTransition","info"));else if(o.name.endsWith(".docx"))this.conceptMode?(e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError","This is not a valid file format for concept schemes")):(e.$store.commit("app/importFileType","pdf"),e.firstImport=!1,e.$store.commit("app/importStatus","File selected."),e.$store.commit("app/importTransition","info"));else{if(!o.name.endsWith(".html"))return e.$store.commit("app/importFileType",""),error="CaSS cannot read the file "+o.name+". Please check that the file has the correct file extension.",e.$store.commit("app/addImportError",error),void e.$store.commit("app/importTransition","process");this.conceptMode?(e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError","This is not a valid file format for concept schemes")):(e.$store.commit("app/importFileType","pdf"),e.detailsDetected.fileType="html",e.firstImport=!1,e.$store.commit("app/importStatus","File selected."),e.$store.commit("app/importTransition","info"))}e.firstImport||e.importFromFile()},analyzeCsvRelation:function(t){console.log(t);var e=t.target.files||t.dataTransfer.files;e.length?this.csvRelationFile=e[0]:this.csvRelationFile=null;var o=this;CSVImport.analyzeFile(this.csvRelationFile,(function(t){for(var e=0;e<t[0].length;e++){var r={};r.name=t[0][e],r.index=e,o.csvRelationColumns.push(r),-1!==r.name.toLowerCase().indexOf("source")&&(o.importCsvColumnSource=r),-1!==r.name.toLowerCase().indexOf("origin")&&(o.importCsvColumnSource=r),-1!==r.name.toLowerCase().indexOf("type")&&(o.importCsvColumnRelationType=r),-1!==r.name.toLowerCase().indexOf("target")&&(o.importCsvColumnTarget=r),-1!==r.name.toLowerCase().indexOf("destination")&&(o.importCsvColumnTarget=r)}o.relationCount=t.length-1}),(function(t){o.$store.commit("app/importStatus",t),o.$store.commit("app/importTransition","process"),o.$store.commit("app/addImportError",t)}))},analyzeJsonLdFramework:function(t,e,o){if(null!=t)if(null!=t["name"]){var r=new FileReader;r.onload=function(t){var r=t["target"]["result"],i=JSON.parse(r);i["@graph"]?"http://credreg.net/ctdlasn/schema/context/json"===i["@context"]||"http://credreg.net/ctdl/schema/context/json"===i["@context"]||"https://credreg.net/ctdlasn/schema/context/json"===i["@context"]||"https://credreg.net/ctdl/schema/context/json"===i["@context"]?-1!==i["@graph"][0]["@type"].indexOf("Concept")?e(i["@graph"],"ctdlasnConcept"):e(i["@graph"],"ctdlasn"):e(i["@graph"],null):o("Invalid file")},r.readAsText(t,"UTF-8")}else o("Invalid file");else o("No file to analyze")},importMedbiq:function(){var t=EcIdentityManager.ids[0],e=new EcFramework;null!=t&&e.addOwner(t.ppk.toPk()),null!=this.queryParams.newObjectEndpoint&&void 0!==this.queryParams.newObjectEndpoint?e.generateShortId(null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint):e.generateId(null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint),e["schema:dateCreated"]=(new Date).toISOString(),console.log(this.importFrameworkName),e.setName(this.importFrameworkName),e.setDescription(this.importFrameworkDescription);var o=this;MedbiqImport.importCompetencies(null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint,t,(function(t){for(var r=0;r<t.length;r++)e.addCompetency(t[r].shortId());o.repo.saveTo(e,(function(t){o.importFile.splice(0,1),o.importFile.length>0?(o.firstImport=!1,o.analyzeImportFile()):(o.$store.commit("app/importFramework",e),o.$store.commit("editor/framework",e),o.importSuccess(),o.spitEvent("importFinished",e.shortId(),"importPage"))}),(function(t){o.$store.commit("app/importStatus",t),o.$store.commit("app/importTransition","process"),o.$store.commit("app/addImportError",t)}))}),(function(t){o.$store.commit("app/importStatus",t),o.$store.commit("app/importTransition","process"),o.$store.commit("app/addImportError",t)}),(function(t){o.$store.commit("app/importStatus",t.competencies+"/"+o.competencyCount+" competencies imported.")}),o.repo)},importAsn:function(){var t=EcIdentityManager.ids[0],e=this;e.$store.commit("app/importTransition","process"),ASNImport.importCompetencies(this.repo.selectedServer,t,!0,(function(t,o){e.importFile.splice(0,1),e.importFile.length>0?(e.firstImport=!1,e.analyzeImportFile()):(e.$store.commit("app/importFramework",o),e.$store.commit("editor/framework",o),e.importSuccess(),e.spitEvent("importFinished",o.shortId(),"importPage"))}),(function(t){e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError",t)}),(function(t){e.$store.commit("app/importStatus",t.competencies+"/"+e.competencyCount+" competencies imported.")}),e.repo)},importCtdlAsnCsv:function(){var t=null;EcIdentityManager.ids.length>0&&(t=EcIdentityManager.ids[0]);var e=this;CTDLASNCSVImport.importFrameworksAndCompetencies(e.repo,e.importFile[0],(function(t,o,r){if(!0===e.queryParams.ceasnDataFields)for(var i=0;i<t.length;i++)null!=t[i]["schema:inLanguage"]&&void 0!==t[i]["schema:inLanguage"]||(e.setDefaultLanguage(),t[i]["schema:inLanguage"]=defaultLanguage);var s=t.concat(o).concat(r);e.$store.commit("app/importStatus","Saving "+s.length+" objects."),e.repo.multiput(s,(function(){for(var o=0;o<t.length;o++)e.$store.commit("app/importFramework",t[o]),e.$store.commit("editor/framework",t[o]),e.spitEvent("importFinished",t[o].shortId(),"importPage");e.importFile.splice(0,1),e.importFile.length>0?(e.firstImport=!1,e.analyzeImportFile()):e.importSuccess()}),(function(t){e.$store.commit("app/importStatus",t),e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError",t)}))}),(function(t){e.$store.commit("app/importStatus",t),e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError",t)}),t)},importPdf:function(){var t=this;t.$store.commit("app/importStatus","importing framework...");var e=new FormData;e.append(t.importFile[0].name,t.importFile[0]),t.$store.commit("app/importStatus","importing file..."),EcRemote.postExpectingString("https://t3.cassproject.org/service/parse/","docx",e,(function(e){var o=null;try{o=JSON.parse(e)}catch(s){return t.$store.commit("app/importStatus",e),t.$store.commit("app/importTransition","process"),void t.$store.commit("app/addImportError",e)}if(null==o)return t.$store.commit("app/importStatus",e),t.$store.commit("app/importTransition","process"),void t.$store.commit("app/addImportError",e);var r=new UUID(3,"nil",o.name).format(),i=new EcFramework;t.$store.commit("app/importStatus","looking for existing framework..."),t.queryParams&&t.queryParams.newObjectEndpoint?i.id=t.queryParams.newObjectEndpoint+r:i.assignId(t.repo.selectedServer,r),t.repo.search('(@id:"'+i.shortId()+'") AND (@type:Framework)',(function(){}),(function(e){console.log(e),t.$store.commit("app/importStatus","looking for existing framwork..."),e.length>0?(t.$store.commit("app/importStatus","framework found..."),t.showModal("duplicate",o)):(t.$store.commit("app/importStatus","no match, saving new framework..."),t.savePdfImport(o))}),(function(e){t.$store.commit("app/importStatus",e),t.$store.commit("app/importTransition","process"),t.$store.commit("app/addImportError",e)}))}),(function(e){console.log("error here"),""===e&&(e="Server unresponsive."),t.$store.commit("app/importStatus",e),t.$store.commit("app/importTransition","process"),t.$store.commit("app/addImportError",e)})),t.$store.commit("app/importTransition","process"),t.$store.commit("app/importStatus","processing file...")},savePdfImport:function(t,e){var o=this;o.$store.commit("app/importStatus","saving file...");var r=[],i=new EcFramework,s=e||t.name;s?i.setName(s):i.setName("Unknown Name"),t.description&&""!==t.description&&i.setDescription(t.description);var a=new UUID(3,"nil",s).format();o.queryParams&&o.queryParams.newObjectEndpoint?i.id=o.queryParams.newObjectEndpoint+a:i.assignId(o.repo.selectedServer,a),i.competency=[],i.relation=[],i.level=[],i["schema:dateCreated"]=(new Date).toISOString(),r.push(i),console.log("d",t),console.log("message: ",JSON.parse(i.toJson()));var n={};if(!t.competencies)return o.$store.commit("app/importStatus","Error importing competencies."),o.$store.commit("app/importTransition","process"),void o.$store.commit("app/addImportError","Error importing competencies, no competencies found in file.");o.detailsDetected.competencies=t.competencies.length;for(var c=0;c<t.competencies.length;c++){var p=new EcCompetency;o.queryParams&&o.queryParams.newObjectEndpoint?p.id=o.queryParams.newObjectEndpoint+t.competencies[c].id:p.assignId(o.repo.selectedServer,t.competencies[c].id),n[t.competencies[c].id]=p.shortId(),null!=t.competencies[c].name&&p.setName(t.competencies[c].name.trim()),t.competencies[c].name!==t.competencies[c].description&&t.competencies[c].description&&p.setDescription(t.competencies[c].description.trim()),null!=t.competencies[c]["ceasn:codedNotation"]&&(p["ceasn:codedNotation"]=t.competencies[c]["ceasn:codedNotation"]),i.addCompetency(p.shortId()),r.push(p)}for(c=0;c<t.relation.length;c++){p=new EcAlignment;o.queryParams&&o.queryParams.newObjectEndpoint?p.generateShortId(this.queryParams.newObjectEndpoint):p.assignId(o.repo.selectedServer,t.relation[c].source+"_"+t.relation[c].relationType+"_"+t.relation[c].target),p.source=n[t.relation[c].source],p.target=n[t.relation[c].target],p.relationType=t.relation[c].relationType,void 0!==p.source&&void 0!==p.target?(i.addRelation(p.shortId()),r.push(p)):console.log(JSON.parse(p.toJson()))}o.repo.multiput(r,(function(){o.$store.commit("app/importFramework",i),o.$store.commit("editor/framework",i),o.$store.commit("editor/t3Profile",!0),o.$store.commit("app/importStatus",""),o.importSuccess()}),(function(t){o.$store.commit("app/importStatus",t),o.$store.commit("app/importTransition","process"),o.$store.commit("app/addImportError",t)})),o.$store.commit("app/importTransition","process"),o.$store.commit("app/importStatus","saving import...")},importCsv:function(){var t=this.importFile[0],e=this.csvRelationFile,o=EcIdentityManager.ids[0],r=null==this.queryParams.newObjectEndpoint?this.repo.selectedServer:this.queryParams.newObjectEndpoint,i=new EcFramework;null!=o&&i.addOwner(o.ppk.toPk()),null!==this.queryParams.newObjectEndpoint&&void 0!==this.queryParams.newObjectEndpoint?i.generateShortId(r):i.generateId(r),i["schema:dateCreated"]=(new Date).toISOString(),i.setName(this.importFrameworkName),i.setDescription(this.importFrameworkDescription);var s=this;CSVImport.importCompetencies(t,r,o,this.importCsvColumnName?this.importCsvColumnName.index:-1,this.importCsvColumnDescription?this.importCsvColumnDescription.index:-1,this.importCsvColumnScope?this.importCsvColumnScope.index:-1,this.importCsvColumnId?this.importCsvColumnId.index:-1,e,this.importCsvColumnSource?this.importCsvColumnSource.index:-1,this.importCsvColumnRelationType?this.importCsvColumnRelationType.index:-1,this.importCsvColumnTarget?this.importCsvColumnTarget.index:-1,(function(t,e){i.competency=[],i.relation=[];for(var o=0;o<t.length;o++)i.competency.push(t[o].shortId());for(o=0;o<e.length;o++)i.relation.push(e[o].shortId());s.repo.saveTo(i,(function(t){s.importFile.splice(0,1),s.importFile.length>0?(s.firstImport=!1,s.analyzeImportFile()):(s.$store.commit("app/importFramework",i),s.$store.commit("editor/framework",i),s.importSuccess(),s.spitEvent("importFinished",i.shortId(),"importPage"))}),(function(t){s.$store.commit("app/importTransition","process"),s.$store.commit("app/addImportError",t)}))}),(function(t){s.$store.commit("app/importStatus",t),s.$store.commit("app/importTransition","process"),s.$store.commit("app/addImportError",t)}),(function(t){null!=t.relations&&void 0!==t.relations?s.$store.commit("app/importStatus",t.relations+"/"+s.relationCount+" relations imported."):null!=t.competencies&&void 0!==t.competencies?s.$store.commit("app/importStatus",t.competencies+"/"+s.competencyCount+" competencies imported."):s.$store.commit("app/importStatus","Importing...")}),!1,s.repo)},importJsonLd:function(t){var e=new FormData;if(null!=t&&void 0!==t)e.append("data",JSON.stringify(t));else{var o=this.importFile[0];e.append("file",o)}var r=EcIdentityManager.ids[0];null!=r&&e.append("owner",r.ppk.toPk().toPem());var i=this;i.$store.commit("app/importFramework",null),EcRemote.postInner(this.repo.selectedServer,"ctdlasn",e,null,(function(t){if(-1!==t.indexOf("ctdlasn")){var e=t.substring(0,t.indexOf("ctdlasn")),o=t.substring(t.indexOf("ctdlasn")+7);t=e+"data"+o}var r;i.conceptMode?r=EcConceptScheme.getBlocking(t):(r=EcFramework.getBlocking(t),i.$store.commit("app/importFramework",r)),i.$store.commit("editor/framework",r),i.$store.commit("app/importFramework",r),i.spitEvent("importFinished",r.shortId(),"importPage"),null!=i.importFile&&i.importFile.splice(0,1),i.importFile&&i.importFile.length>0?(i.firstImport=!1,i.analyzeImportFile()):i.importSuccess()}),(function(t){i.$store.commit("app/importTransition","process"),i.$store.commit("app/importStatus","Import failed. Check your import file for any errors."),console.log(t.statusText),i.$store.commit("app/addImportError",t)})),i.conceptMode?i.$store.commit("app/importStatus","Importing Concept Scheme"):i.$store.commit("app/importStatus","Importing Framework")},importCtdlAsnConceptCsv:function(){var t=this,e=null;EcIdentityManager.ids.length>0&&(e=EcIdentityManager.ids[0]),t.$store.commit("app/importStatus","process"),CTDLASNCSVConceptImport.importFrameworksAndCompetencies(t.repo,t.importFile[0],(function(e,o){if("true"===t.queryParams.ceasnDataFields)for(var r=0;r<e.length;r++)null!=e[r]["dcterms:language"]&&void 0!==e[r]["dcterms:language"]||(t.setDefaultLanguage(),e[r]["dcterms:language"]=defaultLanguage);var i=e.concat(o);t.$store.commit("app/importStatus","Saving "+i.length+" objects."),t.repo.multiput(i,(function(){for(var o=0;o<e.length;o++)t.spitEvent("importFinished",e[o].shortId(),"importPage");t.$store.commit("editor/framework",e[0]),t.$store.commit("app/importFramework",e[0]),t.importSuccess()}),(function(e){t.$store.commit("app/importTransition","process"),t.$store.commit("app/addImportError","Failed to save: "+e),console.error(e)}))}),(function(e){t.$store.commit("app/importTransition","process"),t.$store.commit("app/addImportError",e),console.error(e)}),e)},importFromFile:function(){var t=this;if(console.log("this.importFileType",t.importFileType),t.$store.commit("app/importTransition","process"),"csv"===t.importFileType)t.importCsv();else if("ctdlasncsv"===t.importFileType)t.importCtdlAsnCsv();else if("conceptcsv"===t.importFileType)t.importCtdlAsnConceptCsv();else if("ctdlasnjsonld"===t.importFileType)t.importJsonLd();else if("asn"===t.importFileType)t.importAsn();else if("pdf"===t.importFileType)t.importPdf();else if("medbiq"===t.importFileType)t.importMedbiq();else{var e="Unsupported file type"+t.importFileType;t.$store.commit("app/addImportError",e),t.$store.commit("app/importTransition","process")}},connectToServer:function(){console.log("connecting to server"),this.caseDocs.splice(0,this.caseDocs.length),this.caseDetectEndpoint()},caseDetectEndpoint:function(){var t=this,e=this.importServerUrl;e.endsWith("/")||(e+="/"),this.get(e,"ims/case/v1p0/CFDocuments",{Accept:"application/json"},(function(e){t.caseGetDocsSuccess(e)}),(function(e){t.caseGetServerSide()}))},caseGetDocsSuccess:function(t){var e;if(t=JSON.parse(t),null==t.CFDocuments)e="No frameworks found. Please check the URL and try again.",this.$store.commit("app/addImportError",e),me.$store.commit("app/importTransition","process");else{var o=t.CFDocuments.length+" frameworks detected.";this.$store.commit("app/importStatus",o),this.$store.commit("app/importTransition","serverFrameworksDetected");for(var r=0;r<t.CFDocuments.length;r++){var i=t.CFDocuments[r],s={};s.name=i.title,s.id=i.uri,s.identifier=i.identifier,s.loading=!1,s.success=!1,s.error=!1,s.checked=!1,this.caseDocs.push(s)}this.caseCancel=!1}},caseGetServerSide:function(){var t=this;EcRemote.getExpectingString(this.repo.selectedServer,"ims/case/getDocs?url="+this.importServerUrl,(function(e){t.caseGetDocsSuccess(e)}),(function(e){t.$store.commit("app/importTransition","process"),t.$store.commit("app/addImportError","No frameworks found. Please check the URL and try again.")}))},importCase:function(t){if(t){var e=t[1];this.caseDocs[e].loading=!1,this.caseDocs[e].error=!0}for(var o=this.caseDocs.length-1;o>=0;o--)this.caseDocs[o].checked?!1===this.caseDocs[o].success&&!1===this.caseDocs[o].error&&(this.caseDocs[o].loading=!0):this.caseDocs.splice(o,1);if(!this.caseCancel){var r=0,i=null;for(o=0;o<this.caseDocs.length;o++)!0===this.caseDocs[o].loading&&(r++,null==i&&(i=o));if(0===r)this.$store.commit("app/importFramework",this.$store.getters["editor/framework"]),this.importSuccess(),this.$store.commit("app/importStatus","Import finished.");else{var s=this,a=this.caseDocs[i].id;s.repo.search('(@id:"'+a+'") AND (@type:Framework)',(function(){}),(function(t){console.log(t),t.length>0?(s.$store.commit("app/importStatus","framework found..."),s.showModal("duplicateOverwriteOnly",[s.caseDocs[i],i])):(s.$store.commit("app/importStatus","no match, saving new framework..."),s.continueCaseImport([s.caseDocs[i],i]))}),(function(t){s.$store.commit("app/importStatus",t),s.$store.commit("app/importTransition","process"),s.$store.commit("app/addImportError",t)}))}}},continueCaseImport:function(t){var e=t[0],o=t[1],r=this,i=e.id,s=e.identifier,a=EcIdentityManager.ids[0],n=new FormData;null!=a&&n.append("owner",a.ppk.toPk().toPem()),EcRemote.postInner(this.repo.selectedServer,"ims/case/harvest?caseEndpoint="+this.importServerUrl+"&dId="+s,n,null,(function(t){r.caseDocs[o].loading=!1,r.caseDocs[o].success=!0,console.log(i),EcFramework.get(i,(function(t){r.$store.commit("editor/framework",t),r.spitEvent("importFinished",t.shortId(),"importPage"),r.importCase()}),(function(t){console.error(t),r.importCase()}))}),(function(t){r.caseDocs[o].loading=!1,r.caseDocs[o].error=!0,r.importCase()}))},cancelCase:function(){this.caseCancel=!0;for(var t=null,e=0;e<this.caseDocs.length;e++)!0===this.caseDocs[e].loading&&(null==t?t=e:(this.caseDocs[e].loading=!1,this.caseDocs[e].error=!0));this.clearImport(),this.$store.commit("app/importTransition","upload")},parseText:function(){var t=this;null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&this.importFramework.addOwner(EcIdentityManager.ids[0].ppk.toPk()),null!==this.queryParams.newObjectEndpoint&&void 0!==this.queryParams.newObjectEndpoint?this.importFramework.generateShortId(this.queryParams.newObjectEndpoint):this.importFramework.generateId(this.repo.selectedServer),this.importFramework.name=this.importFrameworkName,this.importFramework["schema:dateCreated"]=(new Date).toISOString(),this.importFramework["schema:dateModified"]=(new Date).toISOString();for(var e=[this.importFramework],o=0;o<this.importFramework.competency.length;o++){var r=EcRepository.cache[this.importFramework.competency[o]];null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&r.addOwner(EcIdentityManager.ids[0].ppk.toPk()),e.push(r)}if(this.importFramework.relation)for(o=0;o<this.importFramework.relation.length;o++){var i=EcRepository.cache[this.importFramework.relation[o]];null!=EcIdentityManager.ids&&EcIdentityManager.ids.length>0&&i.addOwner(EcIdentityManager.ids[0].ppk.toPk()),e.push(i)}this.repo.multiput(e,(function(){t.importSuccess(),t.spitEvent("importFinished",t.importFramework.shortId(),"importPage")}),(function(e){console.log("failure",e),t.$store.commit("app/addImportError",e),t.$store.commit("app/importTransition","process")}))},importFromUrl:function(){var t,e=this;EcRemote.getExpectingString(this.importUrl,null,(function(o){o=JSON.parse(o);var r=o["@graph"];if(null==r)return t="URL must have an '@graph' field at the top level.",e.$store.commit("app/addImportError",t),void e.$store.commit("app/importTransition","process");var i=r[0]["@id"];i?e.repo.search('(@id:"'+i+'") AND (@type:Framework)',(function(){}),(function(t){console.log(t),t.length>0?(e.$store.commit("app/importStatus","framework found..."),e.showModal("duplicateOverwriteOnly",[o])):(e.$store.commit("app/importStatus","no match, saving new framework..."),e.importJsonLd(o))}),(function(t){e.$store.commit("app/importStatus",t),e.$store.commit("app/importTransition","process"),e.$store.commit("app/addImportError",t)})):e.importJsonLd(o),-1!==r[0]["@type"].indexOf("Concept")&&(t="Competency Editor cannot be used to import concept schemes.",e.$store.commit("app/addImportError",t),e.$store.commit("app/importTransition","process"))}),(function(o){o?(e.$store.commit("app/addImportError",o),e.$store.commit("app/importTransition","process")):(t="Import Error",e.$store.commit("app/addImportError",t),e.$store.commit("app/importTransition","process"))}))}},beforeDestroy:function(){this.clearImport()},mounted:function(){this.clearImport()}},M=R,L=(o("6bed"),Object(T["a"])(M,r,i,!1,null,null,null));e["default"]=L.exports},"6bed":function(t,e,o){"use strict";var r=o("8e28"),i=o.n(r);i.a},"6ffa4":function(t,e,o){"use strict";o("fb6a");e["a"]={methods:{removeObject:function(t){console.log("removing "+t.id);var e=this,o=this.$store.getters["editor/framework"],r=o.competency?o.competency.slice():null,i=o.relation?o.relation.slice():null,s=o.level?o.level.slice():null;o["schema:dateModified"]=(new Date).toISOString(),o.removeCompetency(t.shortId(),(function(){var t=e.framework;e.$store.commit("editor/addEditsToUndo",[{operation:"update",id:t.shortId(),fieldChanged:["competency","relation","level"],initialValue:[r,i,s]}]),!0===e.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[f.id]&&(t=EcEncryptedValue.toEncryptedValue(t)),repo.saveTo(t,(function(){e.confirmDialog=!1,e.$store.commit("editor/framework",o)}),console.error)}),console.log)},deleteObject:function(t){console.log("deleting "+t.id);var e=this,o=this.$store.getters["editor/framework"];if(t.shortId()===o.shortId())this.repo.deleteRegistered(o,(function(t){if(e.spitEvent("frameworkDeleted",o.shortId(),"editFrameworkSection"),null!=o.competency)for(var r=0;r<o.competency.length;r++)e.conditionalDelete(o.competency[r]);if(null!=o.relation)for(r=0;r<o.relation.length;r++)e.conditionalDelete(o.relation[r]);if(null!=o.level)for(r=0;r<o.level.length;r++)e.conditionalDelete(o.level[r]);e.$store.commit("editor/framework",null),e.$router.push({name:"frameworks"})}),console.log);else{var r=o.competency?o.competency.slice():null,i=o.relation?o.relation.slice():null,s=o.level?o.level.slice():null;this.$store.commit("editor/selectedCompetency",t),o["schema:dateModified"]=(new Date).toISOString(),o.removeCompetency(t.shortId(),(function(){o.removeLevel(t.shortId()),e.$store.commit("editor/addEditsToUndo",[{operation:"delete",obj:t},{operation:"update",id:o.shortId(),fieldChanged:["competency","relation","level"],initialValue:[r,i,s],changedValue:[o.competency,o.relation,o.level]}]),e.conditionalDelete(t.shortId()),e.spitEvent("competencyDeleted",t.shortId(),"editFrameworkSection"),e.$store.commit("editor/selectedCompetency",null);var a=o;!0===e.$store.state.editor.private&&!0!==EcEncryptedValue.encryptOnSaveMap[o.id]&&(a=EcEncryptedValue.toEncryptedValue(o)),e.repo.saveTo(a,(function(){e.$store.commit("editor/framework",o)}),console.error)}),console.log)}}}}},"81d7":function(t,e,o){"use strict";var r=o("ed1c"),i=o.n(r);i.a},"891f":function(t,e,o){},"8e28":function(t,e,o){},"8e85":function(t,e,o){},e6c0:function(t,e,o){"use strict";var r=o("8e85"),i=o.n(r);i.a},ed1c:function(t,e,o){}}]);
//# sourceMappingURL=chunk-d2cdc4d6.98476a5c.js.map